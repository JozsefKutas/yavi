<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>YAVI (Yet Another ValIdation) Reference Documentation</title>
<link rel="stylesheet" href="css/spring.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>YAVI (<em>Y</em>et <em>A</em>nother <em>V</em>al<em>I</em>dation) Reference Documentation</h1>
<div class="details">
<span id="revnumber">version 0.8.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#getting-started">2. Getting Started</a>
<ul class="sectlevel2">
<li><a href="#gs-prerequisites">2.1. Prerequisites</a></li>
<li><a href="#gs-project-setup">2.2. Project set up</a></li>
<li><a href="#gs-applying-constraints">2.3. Applying constraints</a></li>
<li><a href="#gs-validating-constraints">2.4. Validating constraints</a></li>
</ul>
</li>
<li><a href="#using-yavi">3. Using YAVI</a>
<ul class="sectlevel2">
<li><a href="#defining-and-obtaining-a-core-validator-instance">3.1. Defining and obtaining a core <code>Validator</code> instance</a></li>
<li><a href="#constraints-on-nested-objects">3.2. Constraints on nested objects</a></li>
<li><a href="#constraints-on-elements-in-a-collection-map-array">3.3. Constraints on elements in a Collection / Map / Array</a></li>
<li><a href="#applying-constraints-only-to-specific-conditions">3.4. Applying constraints only to specific conditions</a></li>
<li><a href="#applying-constraints-only-to-specific-groups">3.5. Applying constraints only to specific groups</a></li>
<li><a href="#creating-a-custom-constraint">3.6. Creating a custom constraint</a></li>
<li><a href="#cross-field-validation">3.7. Cross-field validation</a></li>
<li><a href="#overriding-violation-messages">3.8. Overriding violation messages</a></li>
<li><a href="#message-formatter">3.9. Message Formatter</a></li>
<li><a href="#fail-fast-mode">3.10. Fail fast mode</a></li>
<li><a href="#kotlin-support">3.11. Kotlin Support</a></li>
</ul>
</li>
<li><a href="#combining-validation-results">4. Combining validation results</a>
<ul class="sectlevel2">
<li><a href="#validating-with-applicative-functor">4.1. Validating with Applicative Functor</a></li>
<li><a href="#combining-validation-validated-objects">4.2. Combining <code>Validation</code> / <code>Validated</code> objects</a></li>
</ul>
</li>
<li><a href="#validating-arguments">5. Validating arguments</a>
<ul class="sectlevel2">
<li><a href="#defining-and-obtaining-an-arguments-validator-instance">5.1. Defining and obtaining an Arguments Validator instance</a></li>
<li><a href="#validating-method-arguments">5.2. Validating method arguments</a></li>
<li><a href="#define-validator-for-a-single-value">5.3. Defining a Validator for a single value</a></li>
</ul>
</li>
<li><a href="#combining-validators">6. Combining validators</a>
<ul class="sectlevel2">
<li><a href="#splitting-a-validator-for-an-object-into-small-pieces">6.1. Splitting a validator for an object into small pieces</a></li>
<li><a href="#validating-the-source-object-before-creating-the-target-object">6.2. Validating the source object before creating the target object</a></li>
</ul>
</li>
<li><a href="#built-in-constraints">7. Built-in Constraints</a>
<ul class="sectlevel2">
<li><a href="#string">7.1. String</a>
<ul class="sectlevel3">
<li><a href="#notnull">7.1.1. <code>notNull()</code></a></li>
<li><a href="#isnull">7.1.2. <code>isNull()</code></a></li>
<li><a href="#notempty">7.1.3. <code>notEmpty()</code></a></li>
<li><a href="#notblank">7.1.4. <code>notBlank()</code></a></li>
<li><a href="#fixedsizeint">7.1.5. <code>fixedSize(int)</code></a></li>
<li><a href="#greaterthanint">7.1.6. <code>greaterThan(int)</code></a></li>
<li><a href="#greaterthanorequalint">7.1.7. <code>greaterThanOrEqual(int)</code></a></li>
<li><a href="#lessthanint">7.1.8. <code>lessThan(int)</code></a></li>
<li><a href="#lessthanorequalint">7.1.9. <code>lessThanOrEqual(int)</code></a></li>
<li><a href="#containscharsequence">7.1.10. <code>contains(CharSequence)</code></a></li>
<li><a href="#patternstring">7.1.11. <code>pattern(String)</code></a></li>
<li><a href="#email">7.1.12. <code>email()</code></a></li>
<li><a href="#password">7.1.13. <code>password(&#8230;&#8203;)</code></a></li>
<li><a href="#ipv4">7.1.14. <code>ipv4()</code></a></li>
<li><a href="#ipv6">7.1.15. <code>ipv6()</code></a></li>
<li><a href="#url">7.1.16. <code>url()</code></a></li>
<li><a href="#luhn">7.1.17. <code>luhn()</code></a></li>
<li><a href="#isbyte">7.1.18. <code>isByte()</code></a></li>
<li><a href="#isshort">7.1.19. <code>isShort()</code></a></li>
<li><a href="#isinteger">7.1.20. <code>isInteger()</code></a></li>
<li><a href="#islong">7.1.21. <code>isLong()</code></a></li>
<li><a href="#isfloat">7.1.22. <code>isFloat()</code></a></li>
<li><a href="#isdouble">7.1.23. <code>isDouble()</code></a></li>
<li><a href="#isbiginteger">7.1.24. <code>isBigInteger()</code></a></li>
<li><a href="#isbigdecimal">7.1.25. <code>isBigDecimal()</code></a></li>
<li><a href="#codepoints">7.1.26. <code>codePoints(&#8230;&#8203;)</code></a></li>
<li><a href="#advanced-character-length-check">7.1.27. Advanced character length check</a>
<ul class="sectlevel4">
<li><a href="#surrogate-pair">Surrogate pair</a></li>
<li><a href="#combining-character">Combining character</a></li>
<li><a href="#variation-selector">Variation Selector</a></li>
<li><a href="#emoji">Emoji</a></li>
</ul>
</li>
<li><a href="#asbytearray">7.1.28. <code>asByteArray()</code></a></li>
</ul>
</li>
<li><a href="#integershortlongcharacterbytefloatlongbigintegerbigdecimal">7.2. Integer/Short/Long/Character/Byte/Float/Long/BigInteger/BigDecimal</a>
<ul class="sectlevel3">
<li><a href="#notnull-2">7.2.1. <code>notNull()</code></a></li>
<li><a href="#isnull-2">7.2.2. <code>isNull()</code></a></li>
<li><a href="#greaterthan">7.2.3. <code>greaterThan(&#8230;&#8203;)</code></a></li>
<li><a href="#greaterthanorequal">7.2.4. <code>greaterThanOrEqual(&#8230;&#8203;)</code></a></li>
<li><a href="#lessthan">7.2.5. <code>lessThan(&#8230;&#8203;)</code></a></li>
<li><a href="#lessthanorequal">7.2.6. <code>lessThanOrEqual(&#8230;&#8203;)</code></a></li>
</ul>
</li>
<li><a href="#boolean">7.3. Boolean</a>
<ul class="sectlevel3">
<li><a href="#notnull-3">7.3.1. <code>notNull()</code></a></li>
<li><a href="#isnull-3">7.3.2. <code>isNull()</code></a></li>
<li><a href="#istrue">7.3.3. <code>isTrue()</code></a></li>
<li><a href="#isfalse">7.3.4. <code>isFalse()</code></a></li>
</ul>
</li>
<li><a href="#collection">7.4. Collection</a>
<ul class="sectlevel3">
<li><a href="#notnull-4">7.4.1. <code>notNull()</code></a></li>
<li><a href="#isnull-4">7.4.2. <code>isNull()</code></a></li>
<li><a href="#notempty-2">7.4.3. <code>notEmpty()</code></a></li>
<li><a href="#fixedsizeint-2">7.4.4. <code>fixedSize(int)</code></a></li>
<li><a href="#greaterthanint-2">7.4.5. <code>greaterThan(int)</code></a></li>
<li><a href="#greaterthanorequalint-2">7.4.6. <code>greaterThanOrEqual(int)</code></a></li>
<li><a href="#lessthanint-2">7.4.7. <code>lessThan(int)</code></a></li>
<li><a href="#lessthanorequalint-2">7.4.8. <code>lessThanOrEqual(int)</code></a></li>
<li><a href="#contains">7.4.9. <code>contains(&#8230;&#8203;)</code></a></li>
</ul>
</li>
<li><a href="#map">7.5. Map</a>
<ul class="sectlevel3">
<li><a href="#notnull-5">7.5.1. <code>notNull()</code></a></li>
<li><a href="#isnull-5">7.5.2. <code>isNull()</code></a></li>
<li><a href="#notempty-3">7.5.3. <code>notEmpty()</code></a></li>
<li><a href="#fixedsizeint-3">7.5.4. <code>fixedSize(int)</code></a></li>
<li><a href="#greaterthanint-3">7.5.5. <code>greaterThan(int)</code></a></li>
<li><a href="#greaterthanorequalint-3">7.5.6. <code>greaterThanOrEqual(int)</code></a></li>
<li><a href="#lessthanint-3">7.5.7. <code>lessThan(int)</code></a></li>
<li><a href="#lessthanorequalint-3">7.5.8. <code>lessThanOrEqual(int)</code></a></li>
<li><a href="#containskey">7.5.9. <code>containsKey(&#8230;&#8203;)</code></a></li>
<li><a href="#containsvalue">7.5.10. <code>containsValue(&#8230;&#8203;)</code></a></li>
</ul>
</li>
<li><a href="#object">7.6. Object</a>
<ul class="sectlevel3">
<li><a href="#notnull-6">7.6.1. <code>notNull()</code></a></li>
<li><a href="#isnull-6">7.6.2. <code>isNull()</code></a></li>
<li><a href="#password-2">7.6.3. <code>password()</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#annotation-processor">8. Annotation Processor</a>
<ul class="sectlevel2">
<li><a href="#annotating-constrainttarget">8.1. Annotating <code>@ConstraintTarget</code></a>
<ul class="sectlevel3">
<li><a href="#constrainttarget-on-getters">8.1.1. <code>@ConstraintTarget</code> on getters</a></li>
<li><a href="#on-constructor-arguments-getters">8.1.2. on constructor arguments + getters</a></li>
<li><a href="#on-constructor-arguments-non-getters">8.1.3. on constructor arguments + non-getters</a></li>
<li><a href="#on-constructor-arguments-field-access">8.1.4. on constructor arguments + field access</a></li>
</ul>
</li>
<li><a href="#annotating-constraintarguments">8.2. Annotating <code>@ConstraintArguments</code></a>
<ul class="sectlevel3">
<li><a href="#validating-constructor-arguments">8.2.1. Validating Constructor Arguments</a></li>
<li><a href="#validating-method-arguments-2">8.2.2. Validating Method Arguments</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#integrations">9. Integrations</a>
<ul class="sectlevel2">
<li><a href="#integration-with-bindingresult-in-spring-mvc">9.1. Integration with <code>BindingResult</code> in Spring MVC</a></li>
<li><a href="#converting-constraintviolations-to-the-format-to-serialize-as-a-response-body">9.2. Converting <code>ConstraintViolations</code> to the format to serialize as a response body</a></li>
<li><a href="#integration-with-spring-webflux-fn">9.3. Integration with Spring WebFlux.fn</a></li>
<li><a href="#integration-with-messagesource-in-spring-framework">9.4. Integration with <code>MessageSource</code> in Spring Framework</a></li>
<li><a href="#managing-validatorbuilder-in-an-ioc-container">9.5. Managing <code>ValidatorBuilder</code> in an IoC Container</a></li>
<li><a href="#obtaining-a-bivalidator">9.6. Obtaining a <code>BiValidator</code></a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>YAVI (pronounced jɑ-vάɪ)  is a lambda based type safe validation for Java.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/making/yavi" target="_blank" rel="noopener">View project on GitHub</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>YAVI sounds as same as a Japanese slang "YABAI (ヤバイ)" that means awesome or awful depending on the context (like "Crazy").
If you use YAVI, you will surely understand that it means the former.</p>
</div>
<div class="paragraph">
<p>The concepts are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No reflection!</p>
</li>
<li>
<p>No (runtime) annotation!</p>
</li>
<li>
<p>Not only Java Beans!</p>
</li>
<li>
<p>Zero dependency!</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are not a fan of <a href="https://beanvalidation.org/">Bean Validation</a>, YAVI will be an awesome alternative.</p>
</div>
<div class="paragraph">
<p>YAVI has the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Type-safe constraints, unsupported constraints cannot be applied to the wrong type</p>
</li>
<li>
<p>Fluent and intuitive API</p>
</li>
<li>
<p>Constraints on any object. Java Beans, <a href="https://openjdk.java.net/jeps/395">Records</a>, <a href="https://developers.google.com/protocol-buffers">Protocol Buffers</a>, <a href="https://immutables.github.io/">Immutables</a> and anything else.</p>
</li>
<li>
<p>Lots of powerful built-in constraints</p>
</li>
<li>
<p>Easy custom constraints</p>
</li>
<li>
<p>Validation for groups, conditional validation</p>
</li>
<li>
<p>Validation for arguments before creating an object</p>
</li>
<li>
<p>Support for API and combination of validation results and validators that incorporate the concept of functional programming</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For the migration from Bean Validation, refer <a href="https://github.com/making/yavi/blob/develop/docs/FromBeanValidationToYAVI.md">the guide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a>2. Getting Started</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This content is derived from <a href="https://hibernate.org/validator/documentation/getting-started/" class="bare">https://hibernate.org/validator/documentation/getting-started/</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Welcome to YAVI.</p>
</div>
<div class="paragraph">
<p>The following paragraphs will guide you through the initial steps required to integrate YAVI into your application.</p>
</div>
<div class="sect2">
<h3 id="gs-prerequisites"><a class="anchor" href="#gs-prerequisites"></a>2.1. Prerequisites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/index.html">Java Runtime</a> &gt;= 8</p>
</li>
<li>
<p><a href="http://maven.apache.org/">Apache Maven</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="gs-project-setup"><a class="anchor" href="#gs-project-setup"></a>2.2. Project set up</h3>
<div class="paragraph">
<p>In order to use YAVI within a Maven project, simply add the following dependency to your <code>pom.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;dependency&gt;
    &lt;groupId&gt;am.ik.yavi&lt;/groupId&gt;
    &lt;artifactId&gt;yavi&lt;/artifactId&gt;
    &lt;version&gt;0.8.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This tutorial uses JUnit 5 and AssertJ.
Add the following dependencies as needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;dependency&gt;
    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;
    &lt;version&gt;5.7.2&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.assertj&lt;/groupId&gt;
    &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;
    &lt;version&gt;3.20.2&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gs-applying-constraints"><a class="anchor" href="#gs-applying-constraints"></a>2.3. Applying constraints</h3>
<div class="paragraph">
<p>Let&#8217;s dive into an example to see how to apply constraints:</p>
</div>
<div class="paragraph">
<p>Create <code>src/main/java/com/example/Car.java</code> and write the following code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

import am.ik.yavi.builder.ValidatorBuilder;
import am.ik.yavi.core.Validator;

public class Car {
    private final String manufacturer;

    private final String licensePlate;

    private final int seatCount;

    public static final Validator&lt;Car&gt; validator = ValidatorBuilder.&lt;Car&gt;of()
            .constraint(Car::getManufacturer, "manufacturer", c -&gt; c.notNull())
            .constraint(Car::getLicensePlate, "licensePlate", c -&gt; c.notNull().greaterThanOrEqual(2).lessThanOrEqual(14))
            .constraint(Car::getSeatCount, "seatCount", c -&gt; c.greaterThanOrEqual(2))
            .build();

    public Car(String manufacturer, String licencePlate, int seatCount) {
        this.manufacturer = manufacturer;
        this.licensePlate = licencePlate;
        this.seatCount = seatCount;
    }

    public String getManufacturer() {
        return manufacturer;
    }

    public String getLicensePlate() {
        return licensePlate;
    }

    public int getSeatCount() {
        return seatCount;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>ValidatorBuilder#constraint</code> is used to declare the constraints which should be applied to the return values of getter for the <code>Car</code> instance:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>manufacturer</code> must never be null</p>
</li>
<li>
<p><code>licensePlate</code> must never be null and must be between 2 and 14 characters long</p>
</li>
<li>
<p><code>seatCount</code> must be at least 2</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can find <a href="https://github.com/making/gs-yavi">the complete source code</a> on GitHub.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="gs-validating-constraints"><a class="anchor" href="#gs-validating-constraints"></a>2.4. Validating constraints</h3>
<div class="paragraph">
<p>To perform a validation of these constraints, you use a <code>Validator</code> instance.
To demonstrate this, let&#8217;s have a look at a simple unit test:</p>
</div>
<div class="paragraph">
<p>Create <code>src/test/java/com/example/CarTest.java</code> and write the following code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

import am.ik.yavi.core.ConstraintViolations;
import org.junit.jupiter.api.Test;

import static org.assertj.core.api.Assertions.assertThat;

class CarTest {

    @Test
    void manufacturerIsNull() {
        final Car car = new Car(null, "DD-AB-123", 4);
        final ConstraintViolations violations = Car.validator.validate(car);

        assertThat(violations.isValid()).isFalse();
        assertThat(violations).hasSize(1);
        assertThat(violations.get(0).message()).isEqualTo("\"manufacturer\" must not be null");
    }

    @Test
    void licensePlateTooShort() {
        final Car car = new Car("Morris", "D", 4);
        final ConstraintViolations violations = Car.validator.validate(car);

        assertThat(violations.isValid()).isFalse();
        assertThat(violations).hasSize(1);
        assertThat(violations.get(0).message()).isEqualTo("The size of \"licensePlate\" must be greater than or equal to 2. The given size is 1");
    }

    @Test
    void seatCountTooLow() {
        final Car car = new Car("Morris", "DD-AB-123", 1);
        final ConstraintViolations violations = Car.validator.validate(car);

        assertThat(violations.isValid()).isFalse();
        assertThat(violations).hasSize(1);
        assertThat(violations.get(0).message()).isEqualTo("\"seatCount\" must be greater than or equal to 2");
    }

    @Test
    void carIsValid() {
        final Car car = new Car("Morris", "DD-AB-123", 2);
        final ConstraintViolations violations = Car.validator.validate(car);

        assertThat(violations.isValid()).isTrue();
        assertThat(violations).hasSize(0);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Validator</code> instances are thread-safe and may be reused multiple times.</p>
</div>
<div class="paragraph">
<p>The <code>validate()</code> method returns a <code>ConstraintViolations</code> instance, which you can iterate in order to see which validation errors occurred.
The first three test methods show some expected constraint violations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>notNull()</code> constraint on <code>manufacturer</code> is violated in <code>manufacturerIsNull()</code></p>
</li>
<li>
<p>The <code>greaterThanOrEqual(int)</code> constraint on <code>licensePlate</code> is violated in <code>licensePlateTooShort()</code></p>
</li>
<li>
<p>The <code>greaterThanOrEqual(int)</code> constraint on <code>seatCount</code> is violated in <code>seatCountTooLow()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the object validates successfully, <code>validate()</code> returns an empty <code>ConstraintViolations</code> as you can see in <code>carIsValid()</code>.
You can also check if the validation was successful with the <code>ConstraintViolations.isValid</code> method.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-yavi"><a class="anchor" href="#using-yavi"></a>3. Using YAVI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the basic usage of YAVI.</p>
</div>
<div class="sect2">
<h3 id="defining-and-obtaining-a-core-validator-instance"><a class="anchor" href="#defining-and-obtaining-a-core-validator-instance"></a>3.1. Defining and obtaining a core <code>Validator</code> instance</h3>
<div class="paragraph">
<p>The core validator <code>am.ik.yavi.core.Validator</code> can be defined and obtained via <code>am.ik.yavi.builder.ValidatorBuilder</code>.
Here is an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of() // or ValidatorBuilder.of(User.class)
    .constraint(User::getName, "name", c -&gt; c.notNull().lessThanOrEqual(20))
    .constraint(User::getEmail, "email", c -&gt; c.notNull().greaterThanOrEqual(5).lessThanOrEqual(50).email())
    .constraint(User::getAge, "age", c -&gt; c.notNull().greaterThanOrEqual(0).lessThanOrEqual(200))
    .build();

ConstraintViolations violations = validator.validate(user);
boolean isValid = violations.isValid();
violations.forEach(x -&gt; System.out.println(x.message()));</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
YAVI accumulates all violation messages by default. If a violation is found during the validation, it will not be shortcut. If you want to return from the current validation as soon as the first constraint violation occurs, use "<a href="#fail-fast-mode">Fail fast mode</a>".
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In order to avoid ambiguous type inferences, you can use explicit <code>_&lt;type&gt;</code> method per type instead of constraint as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    ._string(User::getName, "name", c -&gt; c.notNull().lessThanOrEqual(20))
    ._string(User::getEmail, "email", c -&gt; c.notNull().greaterThanOrEqual(5).lessThanOrEqual(50).email())
    ._integer(User::getAge, "age", c -&gt; c.notNull().greaterThanOrEqual(0).lessThanOrEqual(200))
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first argument of the <code>constraint</code> method does not have to be a "Getter" as long as it is a <code>java.util.function.Function</code>.</p>
</div>
<div class="paragraph">
<p>For example, If you want to create a <code>Validator</code> for <a href="https://openjdk.java.net/jeps/395">Records</a>, you can implement it straightforwardly like bellow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public record User(String name, String email, int age) {
}

Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    .constraint(User::name, "name", c -&gt; c.notNull().lessThanOrEqual(20))
    .constraint(User::email, "email", c -&gt; c.notNull().greaterThanOrEqual(5).lessThanOrEqual(50).email())
    .constraint(User::age, "age", c -&gt; c.notNull().greaterThanOrEqual(0).lessThanOrEqual(200))
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or if you don&#8217;t want your method to expose the target field, you can define the constraint like following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class User {
    private final String name;

    public final Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
        ._string(x -&gt; x.name, "name", c -&gt; c.notNull().lessThanOrEqual(20))
        .build();

    public User(String name) {
        this.name = name;
    }
    // Omits others
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>See "<a href="#built-in-constraints">Built-in Constraints</a>" for other constraint rules.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you don&#8217;t like to specify the field name as a string literal, you can use "<a href="#annotation-processor">Annotation Processor</a>" to make it completely type-safe.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="constraints-on-nested-objects"><a class="anchor" href="#constraints-on-nested-objects"></a>3.2. Constraints on nested objects</h3>
<div class="paragraph">
<p>You can use <code>nest</code> method to apply constraints to the nested fields.
You can delegate to the <code>Validator</code> for the nested field, or you can also define a set of constraints on the nested field inside.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class Address {
    private Country country;
    private City city;
    // Omits other fields and getters
}

Validator&lt;Country&gt; countryValidator = ValidatorBuilder.&lt;Country&gt; of()
    .nest(Country::getName, "name", c -&gt; c.notBlank().lessThanOrEqual(20))
    .build();
Validator&lt;City&gt; cityValidator = ValidatorBuilder.&lt;City&gt; of()
    .nest(City::getName, "name", c -&gt; c.notBlank().lessThanOrEqual(100))
    .build();

Validator&lt;Address&gt; validator = ValidatorBuilder.&lt;Address&gt; of()
    .nest(Address::getCountry, "country", countryValidator)
    .nest(Address::getCity, "city", cityValidator)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Address&gt; validator = ValidatorBuilder.&lt;Address&gt; of()
    .nest(Address::getCountry, "country",
        b -&gt; b.constraint(Country::getName, "name", c -&gt; c.notBlank().lessThanOrEqual(20)))
    .nest(Address::getCity, "city",
        b -&gt; b.constraint(City::getName, "name", c -&gt; c.notBlank().lessThanOrEqual(100)))
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the nested field is nullable, use <code>nestIfPresent</code> instead of <code>nest</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="constraints-on-elements-in-a-collection-map-array"><a class="anchor" href="#constraints-on-elements-in-a-collection-map-array"></a>3.3. Constraints on elements in a Collection / Map / Array</h3>
<div class="paragraph">
<p>You can use <code>forEach</code> method to apply constraints to each element of Collection / Map / Array.
Like nested fields, You can delegate to the <code>Validator</code> for validating each element,
or you can also define a set of constraints on the elements inside.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class History {
    private final int revision;

    public History(int revision) {
        this.revision = revision;
    }

    public int getRevision() {
        return revision;
    }
}

public class Histories {
    private final List&lt;History&gt; value;

    public Histories(List&lt;History&gt; value) {
        this.value = value;
    }

    public List&lt;History&gt; asList() {
        return value;
    }
}

Validator&lt;History&gt; historyValidator = ValidatorBuilder.&lt;History&gt; of()
    .constraint(History::getRevision, "revision", c -&gt; c.notNull().greaterThanOrEqual(1))
    .build();

Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
    .forEach(Histories::asList, "histories", historyValidator)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
    .forEach(Histories::asList, "histories",
        b -&gt; b.constraint(History::getRevision, "revision", c -&gt; c.notNull().greaterThanOrEqual(1)))
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the colletion / map / array field is nullable, use <code>forEachIfPresent</code> instead of <code>forEach</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For the constraints on elements in a map, only values can be applied out of the box.
If you want to apply constraints on keys in a map, you need to convert the map to key&#8217;s <code>Set</code> and regard it as a collection as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">ToCollection&lt;CodeMap, Collection&lt;String&gt;, String&gt; toCollection = codeMap -&gt; codeMap.asMap().keySet();
Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
    .forEach(toCollection, "codeMap", b -&gt; b._string(String::toString, "value", c -&gt; c.notEmpty()))
    .build();</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="applying-constraints-only-to-specific-conditions"><a class="anchor" href="#applying-constraints-only-to-specific-conditions"></a>3.4. Applying constraints only to specific conditions</h3>
<div class="paragraph">
<p>You can apply constraints only to specific conditions with <code>am.ik.yavi.core.ConstraintCondition</code> interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    .constraintOnCondition((user, constraintGroup) -&gt; !user.getName().isEmpty(),
        b -&gt; b.constraint(User::getEmail, "email", c -&gt; c.email().notEmpty()))
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The constraint above on email will only be activated if the name is not empty.</p>
</div>
</div>
<div class="sect2">
<h3 id="applying-constraints-only-to-specific-groups"><a class="anchor" href="#applying-constraints-only-to-specific-groups"></a>3.5. Applying constraints only to specific groups</h3>
<div class="paragraph">
<p>You can apply constraints only to specific groups with <code>am.ik.yavi.core.ConstraintGroup</code> as a part of <code>ConstraintCondition</code> as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">enum Group implements ConstraintGroup {
    CREATE, UPDATE, DELETE
}

Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    .constraintOnCondition(Group.CREATE.toCondition(), b -&gt; b.constraint(User::getId, "id", c -&gt; c.isNull()))
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The group to validate can be specified in <code>validate</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">ConstraintViolations violations = validator.validate(user, Group.CREATE);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use a shortcut <code>constraintOnGroup</code> method</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    .constraintOnGroup(Group.CREATE, b -&gt; b.constraint(User::getId, "id", c -&gt; c.isNull()))
    .build();</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Note that all constraints without conditions will be validated for any constraint group.
Also, if no group is specified in the <code>validate</code> method, it will be treated as <code>DEFAULT</code> group.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-custom-constraint"><a class="anchor" href="#creating-a-custom-constraint"></a>3.6. Creating a custom constraint</h3>
<div class="paragraph">
<p>If you want to apply constraints that are not in the "<a href="#built-in-constraints">Built-in Constraints</a>", you can create custom constraints by implementing <code>am.ik.yavi.core.CustomConstraint</code> interface as bellow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class IsbnConstraint implements CustomConstraint&lt;String&gt; {

    @Override
    public boolean test(String s) {
        // Delegate processing to another method
        return ISBNValidator.isISBN13(s);
    }

    @Override
    public String messageKey() {
        return "string.isbn13";
    }

    @Override
    public String defaultMessageFormat() {
        return "\"{0}\" must be ISBN13 format";
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The created custom constraint can be specified by <code>predicate</code> method as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">IsbnConstraint isbn = new IsbnConstraint();
Validator&lt;Book&gt; book = ValidatorBuilder.&lt;Book&gt; of()
    .constraint(Book::getTitle, "title", c -&gt; c.notBlank().lessThanOrEqual(64))
    .constraint(Book::getIsbn, "isbn", c -&gt; c.notBlank().predicate(isbn))
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also write constraint rules directly in the <code>predicate</code> method instead of defining the <code>CustomConstraint</code> class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Book&gt; book = ValidatorBuilder.&lt;Book&gt; of()
    .constraint(Book::getTitle, "title", c -&gt; c.notBlank().lessThanOrEqual(64))
    .constraint(Book::getIsbn, "isbn", c -&gt; c.notBlank()
        .predicate(s -&gt; ISBNValidator.isISBN13(s), ViolationMessage.of("string.isbn13", "\"{0}\" must be ISBN13 format")))
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first argument of the violation message is the field name. Also, the last argument is the violated value.</p>
</div>
<div class="paragraph">
<p>If you want to use other arguments, override <code>arguments</code> method as bellow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class InstantRangeConstraint implements CustomConstraint&lt;Instant&gt; {

    private final Instant end;

    private final Instant start;

    InstantRangeConstraint(Instant start, Instant end) {
        this.start = Objects.requireNonNull(start);
        this.end = Objects.requireNonNull(end);
    }

    @Override
    public Object[] arguments() {
        return new Object[] { this.start /* {1} */, this.end /* {2} */};
    }

    @Override
    public String defaultMessageFormat() {
        return "Instant value \"{0}\" must be between \"{1}\" and \"{2}\".";
    }

    @Override
    public String messageKey() {
        return "instant.range";
    }

    @Override
    public boolean test(Instant instant) {
        return instant.isAfter(this.start) &amp;&amp; instant.isBefore(this.end);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cross-field-validation"><a class="anchor" href="#cross-field-validation"></a>3.7. Cross-field validation</h3>
<div class="paragraph">
<p>If you want to apply constraints on target class itself, you can use <code>constraintOnTarget</code>.
It can be used when you want to apply cross-field constraints as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Range&gt; validator = ValidatorBuilder.&lt;Range&gt; of()
    .constraint(range::getFrom, "from", c -&gt; c.greaterThan(0))
    .constraint(range::getTo, "to", c -&gt; c.greaterThan(0))
    .constraintOnTarget(range -&gt; range.getTo() &gt; range.getFrom(), "to", "to.isGreaterThanFrom", "\"to\" must be greater than \"from\"")
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also create a custom constraint for the cross-field validation as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class RangeConstraint implements CustomConstraint&lt;Range&gt; {
    @Override
    public String defaultMessageFormat() {
        return "\"to\" must be greater than \"from\"";
    }

    @Override
    public String messageKey() {
        return "to.isGreaterThanFrom";
    }

    @Override
    public boolean test(Range range) {
        return range.getTo() &gt; range.getFrom();
    }
}

RangeConstraint range = new RangeConstraint();
Validator&lt;Range&gt; validator = ValidatorBuilder.&lt;Range&gt; of()
        .constraintOnTarget(range, "to")
        .build();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="overriding-violation-messages"><a class="anchor" href="#overriding-violation-messages"></a>3.8. Overriding violation messages</h3>
<div class="paragraph">
<p>The default violation message for each constraint is defined in "<a href="#built-in-constraints">Built-in Constraints</a>".</p>
</div>
<div class="paragraph">
<p>If you want to customize the violation message, append <code>message</code> method on the target constraint as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    .constraint(User::getName, "name", c -&gt; c.notNull().message("name is required!")
        .greaterThanOrEqual(1).message("name is too small!")
        .lessThanOrEqual(20).message("name is too large!"))
    .build()</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="message-formatter"><a class="anchor" href="#message-formatter"></a>3.9. Message Formatter</h3>
<div class="paragraph">
<p>YAVI provides <code>am.ik.yavi.message.MessageFormatter</code> interface for constructing violation messages.</p>
</div>
<div class="paragraph">
<p>By default, <code>am.ik.yavi.message.SimpleMessageFormatter</code> is used, which simply uses <code>java.text.MessageFormatter</code> to interpolate the message.
A list of message keys and default message formats is given in "<a href="#built-in-constraints">Built-in Constraints</a>".</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As a feature of error messages, the following are supported compared to Bean Validation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Include field name in error message by default</p>
</li>
<li>
<p>Allows you to include the violated values in the error message</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first placeholder <code>{0}</code> of the message is set to the field name, and the last placeholder is set to the violation value.</p>
</div>
<div class="paragraph">
<p>Especially for the second one, since it is not supported by the general Validation library, for example, even if the error message "xyz should be 100 characters or less" is returned, what characters are actually entered now? Sometimes I try to cut the letters little by little because I don&#8217;t know if they are counted. By default, the following message is displayed so that the user does not have to do this wasteful thing.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://user-images.githubusercontent.com/106908/44784067-4b010600-abc7-11e8-8878-930d017405bb.png" alt="44784067 4b010600 abc7 11e8 8878 930d017405bb">
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you want to customize the message interpolation, implement <code>MessageFormatter</code>.
As an example, the implementation that reads messages in <code>messages.properties</code> is shown as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import java.text.MessageFormat;
import java.util.Locale;
import java.util.MissingResourceException;
import java.util.ResourceBundle;

import am.ik.yavi.message.MessageFormatter;

public enum ResourceBundleMessageFormatter implements MessageFormatter {
    SINGLETON;

    @Override
    public String format(String messageKey, String defaultMessageFormat, Object[] args,
            Locale locale) {
        ResourceBundle resourceBundle = ResourceBundle.getBundle("messages", locale);
        String format;
        try {
            format = resourceBundle.getString(messageKey);
        }
        catch (MissingResourceException e) {
            format = defaultMessageFormat;
        }
        try {
            String target = resourceBundle.getString((String) args[0] /* field name */);
            args[0] = target;
        }
        catch (MissingResourceException e) {
        }
        return new MessageFormat(format, locale).format(args);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to replace the <code>MessageFormatter</code>, you can set it as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    .messageFormatter(ResourceBundleMessageFormatter.SINGLETON)
    // ...
    .build();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fail-fast-mode"><a class="anchor" href="#fail-fast-mode"></a>3.10. Fail fast mode</h3>
<div class="paragraph">
<p>Using the fail fast mode, YAVI allows to return from the current validation as soon as the first constraint violation occurs.
This can be useful for the validation of large object graphs where you are only interested in a quick check whether there is any constraint violation at all.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    .constraint(User::getName, "name", c -&gt; c.notNull().lessThanOrEqual(20))
    .constraint(User::getEmail, "email", c -&gt; c.notNull().greaterThanOrEqual(5).lessThanOrEqual(50).email())
    .constraint(User::getAge, "age", c -&gt; c.notNull().greaterThanOrEqual(0).lessThanOrEqual(200))
    .failFast(true) // &lt;-- Enable the fail fast mode
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can switch an existing <code>Validator</code> to the fail fast mode as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; failFastValidator = validator.failFast(true);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This feature comes from <a href="https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-fail-fast">the fail fast mode of Hibernate Validator.</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="kotlin-support"><a class="anchor" href="#kotlin-support"></a>3.11. Kotlin Support</h3>
<div class="paragraph">
<p>If you are using Kotlin, you can define a <code>Validator</code> a bit shorter than Java using <code>konstraint</code> method instead of <code>constraint</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="kotlin" class="language-kotlin hljs">val validator: Validator&lt;User&gt; = ValidatorBuilder.of&lt;User&gt;()
    .konstraint(User::name) {
        notNull()
            .lessThanOrEqual(20)
    }
    .konstraint(User::email) {
        notNull()
            .greaterThanOrEqual(5)
            .lessThanOrEqual(50)
            .email()
    }
    .konstraint(User::age) {
        notNull()
            .greaterThanOrEqual(0)
            .lessThanOrEqual(200)
    }
    .build()</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>konstraint</code> actually uses <code>kotlin.reflect.KProperty1</code> 🤫
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="combining-validation-results"><a class="anchor" href="#combining-validation-results"></a>4. Combining validation results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>YAVI supports a functional programming concept known as <a href="https://en.wikipedia.org/wiki/Applicative_functor">Applicative Functor</a>.
A sequence of validations are executed while accumulating the results (<code>ConstraintViolation</code>), even if some or all of these validations fail during the execution chain.</p>
</div>
<div class="paragraph">
<p>It is helpful when you want to combine validation results of multiple <a href="https://martinfowler.com/bliki/ValueObject.html">Value Object</a>s to produce a new object. (Of course, it is also useful for any objects other than Value Objects.)</p>
</div>
<div class="sect2">
<h3 id="validating-with-applicative-functor"><a class="anchor" href="#validating-with-applicative-functor"></a>4.1. Validating with Applicative Functor</h3>
<div class="paragraph">
<p><code>am.ik.yavi.fn.Validation&lt;E, T&gt;</code> class is the implementation of Applicative Functor. <code>E</code> is the type of error and <code>T</code> is the type of target object.</p>
</div>
<div class="paragraph">
<p>It can be obtained by <code>am.ik.yavi.core.ApplicativeValidator</code> that can be converted from <code>Validator</code> by <code>applicative()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    .constraint(User::getName, "name", c -&gt; c.notNull().lessThanOrEqual(20))
    // ...
    .build();

ApplicativeValidator&lt;User&gt; applicativeValidator = validator.applicative();</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>am.ik.yavi.core.Validated&lt;T&gt;</code> is a shortcut of <code>Validation&lt;ConstraintViolation, T&gt;</code> which is specialized for <code>Validator</code> 's usage.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Email&gt; emailValidator = ValidatorBuilder.&lt;Email&gt; of()
    .constraint(Email::value, "email", c -&gt; c.notBlank().email())
    .build();
Validator&lt;PhoneNumber&gt; phoneNumberValidator = ValidatorBuilder.&lt;PhoneNumber&gt; of()
    .constraint(PhoneNumber::value, "phoneNumber", c -&gt; c.notBlank().pattern("[0-9\\-]+"))
    .build();

Validated&lt;Email&gt; emailValidated = emailValidator.applicative().validate(email);
Validated&lt;PhoneNumber&gt; phoneNumberValidated = phoneNumberValidator.applicative().validate(phoneNumber);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The validated target or constraint violations can be retrieved from the <code>Validated</code> instance as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">if (emailValidated.isValid()) {
    Email email = emailValidated.value(); // throws NoSuchElementException if it is invalid
} else {
    ConstraintViolations violations = emailValidated.errors(); // throws NoSuchElementException if it is valid
}
// or
Email email = emailValidated.orElseThrow(violations -&gt; new ConstraintViolationsException(violations));</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>fold</code> method is convenient if you want to create an instance of the same type regardless of the success or failure of the validation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">HttpStatus status = emailValidated.fold(violations -&gt; HttpStatus.BAD_REQUEST, email -&gt; HttpStatus.OK);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="combining-validation-validated-objects"><a class="anchor" href="#combining-validation-validated-objects"></a>4.2. Combining <code>Validation</code> / <code>Validated</code> objects</h3>
<div class="paragraph">
<p><code>Validation</code> / <code>Validated</code> objects can be combined to produce a new object.
In the bellow example, <code>ContactInfo</code> instance is created using <code>Email</code> and <code>PhoneNumber</code> after validating them.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validated&lt;ContactInfo&gt; contactInfoValidated = emailValidated.combine(phoneNumberValidated)
    .apply((em, ph) -&gt; new ContactInfo(em, ph));
// or
Validated&lt;ContactInfo&gt; contactInfoValidated = Validations.combine(emailValidated, phoneNumberValidated)
    .apply((em, ph) -&gt; new ContactInfo(em, ph));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The important thing here is that even if the validation of <code>Email</code> or <code>PhoneNumber</code> fails, all validation results are accumulated without shortcuts in the middle.</p>
</div>
<div class="paragraph">
<p>For example, if you put a blank space in <code>Email</code> and <code>a</code> in <code>PhoneNumber</code> and try to create a <code>ContactInfo</code>, the validation will fail, and you will get the following three <code>ContraintViolation</code> s:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>* "email" must not be blank
* "email" must be a valid email address
* "phoneNumber" must match [0-9\-]+</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Validation for <code>ContactInfo</code> in the above example can be achieved by using <code>nest</code> method as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Email&gt; emailValidator = ValidatorBuilder.&lt;Email&gt; of()
    .constraint(Email::value, "value", c -&gt; c.notBlank().email())
    .build();
Validator&lt;PhoneNumber&gt; phoneNumberValidator = ValidatorBuilder.&lt;PhoneNumber&gt; of()
    .constraint(PhoneNumber::value, "value", c -&gt; c.notBlank().pattern("[0-9\\-]+"))
    .build();

Validator&lt;ContactInfo&gt; validator = ValidatorBuilder.&lt;ContactInfo&gt; of()
    .nest(ContactInfo::email, "email", emailValidator)
    .nest(ContactInfo::phoneNumber, "phoneNumber", phoneNumberValidator)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can combine <code>ApplicativeValidator&lt;Email&gt;</code> and <code>ApplicativeValidator&lt;PhoneNumber&gt;</code> as introduced in <a href="#combining-validators">Combining validators</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Arguments2Validator&lt;Email, PhoneNumber, ContactInfo&gt; contactInfoValidator = ArgumentsValidators
    .split(emailValidator.applicative(), phoneNumberValidator.applicative())
    .apply(ContactInfo::new);

Validated&lt;ContactInfo&gt; contactInfoValidated = contactInfoValidator.validate(new Email("yavi@example.com"), new PhoneNumber("090-123-4567"));</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="validating-arguments"><a class="anchor" href="#validating-arguments"></a>5. Validating arguments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>YAVI supports validating arguments of a constructor or factory method <strong>before creating an object</strong> with Arguments Validator.</p>
</div>
<div class="paragraph">
<p>This is one of YAVI&#8217;s unique features.</p>
</div>
<div class="sect2">
<h3 id="defining-and-obtaining-an-arguments-validator-instance"><a class="anchor" href="#defining-and-obtaining-an-arguments-validator-instance"></a>5.1. Defining and obtaining an Arguments Validator instance</h3>
<div class="paragraph">
<p>Arguments Validator, as the name implies, is a Validator for arguments.</p>
</div>
<div class="paragraph">
<p>A normal Validator, like Bean Validation, validates if the values are valid for the object to which the values are set, while the Arguments Validator validates that <strong>the arguments</strong> set to the Object are valid.</p>
</div>
<div class="paragraph">
<p>Since an object is created before validation in a normal Validator, there is a possibility of creating an object in an incomplete state temporarily.
For example, even if the constraint of <code>notNull()</code> is imposed on the Validator side,
if the <code>null</code> check is implemented in the constructor, this <code>null</code> check will work before the validation by Validator is executed.</p>
</div>
<div class="paragraph">
<p>The Arguments Validator <strong>creates an object after validation</strong>, so you don&#8217;t have to worry about an incomplete object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class Person {
    public Person(String name, String email, Integer age) {
        // ...
    }

    public static Arguments3Validator&lt;String, String, Integer, Person&gt; validator = ArgumentsValidatorBuilder
        .of(Person::new)
        .builder(b -&gt; b
            ._string(Arguments1::arg1, "name", c -&gt; c.notBlank().lessThanOrEqual(100)) // Constrains onf the first argument of Person::new
            ._string(Arguments2::arg2, "email", c -&gt; c.notBlank().lessThanOrEqual(100).email()) // Constrains onf the second argument of Person::new
            ._integer(Arguments3::arg3, "age", c -&gt; c.greaterThanOrEqual(0).lessThan(200))) // Constrains onf the third argument of Person::new
        .build();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Arguments Validator can be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validated&lt;Person&gt; personValidated = Person.validator.validate("Jone Doe", "jdoe@example.com", 30);</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>am.ik.yavi.arguments.Arguments1Validator</code> to <code>am.ik.yavi.arguments.Arguments16Validator</code> are available.</p>
</div>
<div class="paragraph">
<p>Arguments Validator is useful, but it can be a bit verbose to define. Since it is Type-Safe, it is not possible to define something that does not fit the type, but it feels like a puzzle that fits the type.
Building the Arguments Validator can be simplified by "<a href="#define-validator-for-a-single-value">Defining a Validator for a single value</a>" and "<a href="#combining-validators">Combining validators</a>".</p>
</div>
</div>
<div class="sect2">
<h3 id="validating-method-arguments"><a class="anchor" href="#validating-method-arguments"></a>5.2. Validating method arguments</h3>
<div class="paragraph">
<p>Arguments Validator can be used for validating method arguments as well.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">// From https://beanvalidation.org/
public class UserService {
    public User createUser(/* @Email */ String email,
                         /* @NotNull */ String name) {
        // ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The arguments for <code>UserService.createUser</code> in the above example can be validated as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Arguments3Validator&lt;UserService, String, String, User&gt; validator = ArgumentsValidatorBuilder
    .of(UserService::createUser)
    .builder(b -&gt; b
        ._object(Arguments1::arg1, "userService", c -&gt; c.notNull())
        ._string(Arguments2::arg2, "email", c -&gt; c.email())
        ._string(Arguments3::arg3, "name", c -&gt; c.notNull()))
    .build();

UserService userService = new UserService();
Validated&lt;User&gt; userValidated = validator.validate(userService, "jdoe@example.com", "John Doe");</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>void</code> cannot be used as return type while <code>java.lang.Void</code> is available.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="define-validator-for-a-single-value"><a class="anchor" href="#define-validator-for-a-single-value"></a>5.3. Defining a Validator for a single value</h3>
<div class="paragraph">
<p>If you just want to define <code>Arguments1Validator</code> for a single <code>String</code> or <code>Integer</code> etc, you can write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">StringValidator&lt;String&gt; nameValidator = StringValidatorBuilder
    .of("name", c -&gt; c.notBlank().lessThanOrEqual(100))
    .build();  // -&gt; extends Arguments1Validator&lt;String, String&gt;

StringValidator&lt;String&gt; emailValidator = StringValidatorBuilder
    .of("email", c -&gt; c.notBlank().lessThanOrEqual(100).email())
    .build();  // -&gt; extends Arguments1Validator&lt;String, String&gt;

IntegerValidator&lt;Integer&gt; ageValidator = IntegerValidatorBuilder
    .of("age", c -&gt; c.greaterThanOrEqual(0).lessThan(200))
    .build();  // -&gt; extends Arguments1Validator&lt;Integer, Integer&gt;

Validated&lt;String&gt; nameValidated = nameValidator.validate("Jone Doe");
Validated&lt;String&gt; emailValidated = nameValidator.validate("jdoe@example.com");
Validated&lt;Integer&gt; ageValidated = nameValidator.validate(30);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can convert it to a Value Object after validation by using the <code>andThen</code> method as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">StringValidator&lt;Name&gt; nameValidator = StringValidatorBuilder
    .of("name", c -&gt; c.notBlank().lessThanOrEqual(100))
    .build()
    .andThen(name -&gt; new Name(name)); // -&gt; extends Arguments1Validator&lt;String, Name&gt;

StringValidator&lt;Email&gt; emailValidator = StringValidatorBuilder
    .of("email", c -&gt; c.notBlank().lessThanOrEqual(100).email())
    .build()
    .andThen(email -&gt; new Email(email)); // -&gt; extends Arguments1Validator&lt;String, Email&gt;

IntegerValidator&lt;Age&gt; ageValidator = IntegerValidatorBuilder
    .of("age", c -&gt; c.greaterThanOrEqual(0).lessThan(200))
    .build()
    .andThen(age -&gt; new Age(age)); // -&gt; extends Arguments1Validator&lt;Integer, Age&gt;

Validated&lt;Name&gt; nameValidated = nameValidator.validate("Jone Doe");
Validated&lt;Email&gt; emailValidated = nameValidator.validate("jdoe@example.com");
Validated&lt;Age&gt; ageValidated = nameValidator.validate(30);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to create an <code>Arguments1Validator</code> for a <code>List</code>, you can "lift" a <code>Validator</code> for the element of the list as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Arguments1Validator&lt;Iterable&lt;String&gt;, List&lt;Email&gt;&gt; emailsValidator = ArgumentsValidators.liftList(emailValidator);
Validated&lt;List&lt;Email&gt;&gt; emailsValidated = emailsValidator.validate(List.of("foo@example.com", "bar@example.com"));
// or
Validated&lt;List&lt;Email&gt;&gt; emailsValidated = emailValidator.liftList().validate(List.of("foo@example.com", "bar@example.com"));</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>liftSet()</code>, <code>listCollection(Supplier)</code> and <code>liftOptional()</code> are available as well.</p>
</div>
<div class="paragraph">
<p>These "small Validators" can be very powerful parts by using the Validator combinators described in "<a href="#combining-validators">Combining validators</a>".</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="combining-validators"><a class="anchor" href="#combining-validators"></a>6. Combining validators</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>ApplicativeValidator&lt;T&gt;</code> and <code>Arguments1Validator&lt;S, T&gt;</code> we&#8217;ve seen so far extend <code>ValueValidator&lt;S, T&gt;</code>.
(<code>T</code> is the type of the target object to be validated and <code>S</code> is the type of the source object to create the target object.)</p>
</div>
<div class="paragraph">
<p><code>ApplicativeValidator&lt;T&gt;</code> is a <code>ValueValidator&lt;T, T&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Multiple <code>ValueValidator</code> s can be combined to validate a larger object.</p>
</div>
<div class="sect2">
<h3 id="splitting-a-validator-for-an-object-into-small-pieces"><a class="anchor" href="#splitting-a-validator-for-an-object-into-small-pieces"></a>6.1. Splitting a validator for an object into small pieces</h3>
<div class="paragraph">
<p>You can use <code>split</code> method to split a validator for the arguments of a constructor or a factory method for creating a large object into small validators and combine them.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take a look at an example.</p>
</div>
<div class="paragraph">
<p>Validator for constructor <code>Person(String, String, Integer)</code> is <code>Arguments3Validator&lt;String, String, Integer, Person&gt;</code>.
This can be divided into two <code>StringValidator&lt;String&gt;</code> s and one <code>IntegerValidator&lt;Integer&gt;</code> and then combined.</p>
</div>
<div class="paragraph">
<p>It can be defined as bellow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class Person {
    public Person(String name, String email, Integer age) {
        // ...
    }
}

StringValidator&lt;String&gt; nameValidator = /* see examples above */;
StringValidator&lt;String&gt; emailValidator = /* see examples above */;
IntegerValidator&lt;Integer&gt; ageValidator = /* see examples above */;

Arguments3Validator&lt;String, String, Integer, Person&gt; personValidator = ArgumentsValidators
    .split(nameValidator, emailValidator, ageValidator)
    .apply(Person::new);
// or
Arguments3Validator&lt;String, String, Integer, Person&gt; personValidator = nameValidator
    .split(emailValidator)
    .split(ageValidator)
    .apply(Person::new);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The same goes for Validators for Value Objects.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class Person {
    public Person(Name name, Email email, Age age) {
        // ...
    }
}

StringValidator&lt;Name&gt; nameValidator = /* see examples above */;
StringValidator&lt;Email&gt; emailValidator = /* see examples above */;
IntegerValidator&lt;Age&gt; ageValidator = /* see examples above */;

Arguments3Validator&lt;String, String, Integer, Person&gt; personValidator = ArgumentsValidators
    .split(nameValidator, emailValidator, ageValidator)
    .apply(Person::new);
// or
Arguments3Validator&lt;String, String, Integer, Person&gt; personValidator = nameValidator
    .split(emailValidator)
    .split(ageValidator)
    .apply(Person::new);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The created Validator can be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validated&lt;Person&gt; personValidated = Person.validator.validate("Jone Doe", "jdoe@example.com", 30);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the arguments of <code>ArgumentsValidators#split</code> are <code>ValueValidator</code> s rather than <code>Arguments1Validator</code> s, you can also combine <code>ApplicativeValidator</code> s as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">ApplicativeValidator&lt;Email&gt; emailValidator = /* see examples above */;
ApplicativeValidator&lt;PhoneNumber&gt; phoneNumberValidator = /* see examples above */;

Arguments2Validator&lt;Email, PhoneNumber, ContactInfo&gt; contactInfoValidator = ArgumentsValidators
    .split(emailValidator, phoneNumberValidator)
    .apply(ContactInfo::new);

Validated&lt;ContactInfo&gt; contactInfoValidated = contactInfoValidator.validate(new Email("yavi@example.com"), new PhoneNumber("090-123-4567"));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="validating-the-source-object-before-creating-the-target-object"><a class="anchor" href="#validating-the-source-object-before-creating-the-target-object"></a>6.2. Validating the source object before creating the target object</h3>
<div class="paragraph">
<p>In a web application, you often get values from a <code>Map</code>, Form Object, or <code>HttpServletRequest</code> to create a Domain Object.</p>
</div>
<div class="paragraph">
<p><code>Arguments1Validator</code> can validate the source object and then convert it to the target object using <code>compose</code> method.</p>
</div>
<div class="paragraph">
<p>For example, in the case where <code>name</code>, <code>email</code> and <code>age</code> are obtained from <code>HttpServletRequest</code> object as HTTP request parameters in Servlet, it can be defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Argument1Validator&lt;HttpServletRequest, Name&gt; requestNameValidator = nameValidator
    .compose(req -&gt; req.getParameter("name"));
Argument1Validator&lt;HttpServletRequest, Email&gt; requestEmailValidator = emailValidator
    .compose(req -&gt; req.getParameter("email"));
Argument1Validator&lt;HttpServletRequest, Age&gt; requestAgeValidator = ageValidator
    .compose(req -&gt; Integer.valueOf(req.getParameter("age")));

HttpServletRequest request = ...;
Validated&lt;Name&gt; nameValidated = requestNameValidator.validate(request);
Validated&lt;Email&gt; emailValidated = requestEmailValidator.validate(request);
Validated&lt;Age&gt; ageValidated = requestAgeValidator.validate(request);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can combine these Validators with <code>combine</code> method as follows to create a Validator for <code>Person</code> object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Arguments1Validator&lt;HttpServletRequest, Person&gt; requestPersonValidator = ArgumentsValidators
    .combine(requestNameValidator, requestEmailValidator, requestAgeValidator)
    .apply(Person::new);
// or
Arguments1Validator&lt;HttpServletRequest, Person&gt; requestPersonValidator = requestNameValidator
    .combine(requestEmailValidator)
    .combine(requestAgeValidator)
    .apply(Person::new);

HttpServletRequest request = ...;
Validated&lt;Person&gt; personValidated = requestPersonValidator.validate(request);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This Validator can also be converted from <code>Arguments3Validator&lt;String, String, Integer, Person&gt;</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Arguments3Validator&lt;String, String, Integer, Person&gt; personValidator = /* see examples above */;
Arguments1Validator&lt;HttpServletRequest, Person&gt; requestPersonValidator = personValidator
    .compose(req -&gt; Arguments.of(req.getParameter("name"), req.getParameter("email"), Integer.valueOf(req.getParameter("age"))));</code></pre>
</div>
</div>
<div class="paragraph">
<p>By combining Validators in this way, you can create various patterns of Validators. Creating a small Arguments Validator not only allows you to validate the values before creating the object, but also makes it more reusable.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="built-in-constraints"><a class="anchor" href="#built-in-constraints"></a>7. Built-in Constraints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>YAVI includes many commonly used built-in constraints for various types.</p>
</div>
<div class="sect2">
<h3 id="string"><a class="anchor" href="#string"></a>7.1. String</h3>
<div class="paragraph">
<p>Apply the constraints on the <code>String</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    .constraint(/* Function from TargetClass to String  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>To avoid ambiguous type inferences, you can use explicit <code>_string</code> instead of <code>constraint</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    ._string(/* Function from TargetClass to String  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to apply constraints to the more generic <code>CharSequence</code>, use <code>_charSequence</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    ._charSequence(/* Function from TargetClass to CharSequence  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="notnull"><a class="anchor" href="#notnull"></a>7.1.1. <code>notNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is not <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Email&gt; validator = ValidatorBuilder.&lt;Email&gt; of()
    .constraint(Email::asString, "email", c -&gt; c.notNull())
    .build();

ConstraintViolations violations = validator.validate(new Email("yavi@example.com")); // Valid
ConstraintViolations violations = validator.validate(new Email(null)); // Invalid ("email" must not be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.notNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isnull"><a class="anchor" href="#isnull"></a>7.1.2. <code>isNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;User&gt; validator = ValidatorBuilder.&lt;User&gt; of()
    .constraint(User::getId, "id", c -&gt; c.isNull())
    .build();

ConstraintViolations violations = validator.validate(new User(null)); // Valid
ConstraintViolations violations = validator.validate(new User("1234")); // Invalid ("id" must be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.isNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="notempty"><a class="anchor" href="#notempty"></a>7.1.3. <code>notEmpty()</code></h4>
<div class="paragraph">
<p>Checks whether the target value is not <code>null</code> nor empty</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Email&gt; validator = ValidatorBuilder.&lt;Email&gt; of()
    .constraint(Email::asString, "email", c -&gt; c.notEmpty())
    .build();

ConstraintViolations violations = validator.validate(new Email("yavi@example.com")); // Valid
ConstraintViolations violations = validator.validate(new Email(null)); // Invalid ("email" must not be empty)
ConstraintViolations violations = validator.validate(new Email("")); // Invalid ("email" must not be empty)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.notEmpty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be empty</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="notblank"><a class="anchor" href="#notblank"></a>7.1.4. <code>notBlank()</code></h4>
<div class="paragraph">
<p>Checks that the target value is not <code>null</code>, and the trimmed userId is greater than <code>0</code>.
The difference to <code>notEmpty()</code> is that trailing white-spaces are ignored.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Email&gt; validator = ValidatorBuilder.&lt;Email&gt; of()
    .constraint(Email::asString, "email", c -&gt; c.notBlank())
    .build();

ConstraintViolations violations = validator.validate(new Email("yavi@example.com")); // Valid
ConstraintViolations violations = validator.validate(new Email(null)); // Invalid ("email" must not be blank)
ConstraintViolations violations = validator.validate(new Email(" ")); // Invalid ("email" must not be blank)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.notBlank</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be blank</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="fixedsizeint"><a class="anchor" href="#fixedsizeint"></a>7.1.5. <code>fixedSize(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;ZipCode&gt; validator = ValidatorBuilder.&lt;ZipCode&gt; of()
    .constraint(ZipCode::asString, "zipCode", c -&gt; c.fixedSize(7))
    .build();

ConstraintViolations violations = validator.validate(new ZipCode("1234567")); // Valid
ConstraintViolations violations = validator.validate(new ZipCode(null)); // Valid
ConstraintViolations violations = validator.validate(new ZipCode("123-4567")); // Invalid (The size of "zipCode" must be 7. The given size is 8)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.fixedSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="greaterthanint"><a class="anchor" href="#greaterthanint"></a>7.1.6. <code>greaterThan(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is greater than the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Country&gt; validator = ValidatorBuilder.&lt;Country&gt; of()
    .constraint(Country::asString, "country", c -&gt; c.greaterThan(2))
    .build();

ConstraintViolations violations = validator.validate(new Country("Japan")); // Valid
ConstraintViolations violations = validator.validate(new Country(null)); // Valid
ConstraintViolations violations = validator.validate(new Country("J")); // Invalid (The size of "country" must be greater than 2. The given size is 1)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.greaterThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be greater than {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="greaterthanorequalint"><a class="anchor" href="#greaterthanorequalint"></a>7.1.7. <code>greaterThanOrEqual(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is greater than or equals to the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Country&gt; validator = ValidatorBuilder.&lt;Country&gt; of()
    .constraint(Country::asString, "country", c -&gt; c.greaterThanOrEqual(2))
    .build();

ConstraintViolations violations = validator.validate(new Country("Japan")); // Valid
ConstraintViolations violations = validator.validate(new Country(null)); // Valid
ConstraintViolations violations = validator.validate(new Country("J")); // Invalid (The size of "country" must be greater than or equal to 2. The given size is 1)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.greaterThanOrEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be greater than or equal to {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="lessthanint"><a class="anchor" href="#lessthanint"></a>7.1.8. <code>lessThan(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is less than the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Country&gt; validator = ValidatorBuilder.&lt;Country&gt; of()
    .constraint(Country::asString, "country", c -&gt; c.lessThan(4))
    .build();

ConstraintViolations violations = validator.validate(new Country("JP")); // Valid
ConstraintViolations violations = validator.validate(new Country(null)); // Valid
ConstraintViolations violations = validator.validate(new Country("Japan")); // Invalid (The size of "country" must be less than 4. The given size is 5)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.lessThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be less than {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="lessthanorequalint"><a class="anchor" href="#lessthanorequalint"></a>7.1.9. <code>lessThanOrEqual(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is less than or equals to the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Country&gt; validator = ValidatorBuilder.&lt;Country&gt; of()
    .constraint(Country::asString, "country", c -&gt; c.lessThanOrEqual(4))
    .build();

ConstraintViolations violations = validator.validate(new Country("JP")); // Valid
ConstraintViolations violations = validator.validate(new Country(null)); // Valid
ConstraintViolations violations = validator.validate(new Country("Japan")); // Invalid (The size of "country" must be less than or equal to to 4. The given size is 5)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.lessThanOrEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be less than or equal to {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="containscharsequence"><a class="anchor" href="#containscharsequence"></a>7.1.10. <code>contains(CharSequence)</code></h4>
<div class="paragraph">
<p>Checks if the target value contains the specified sequence of char values</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;ZipCode&gt; validator = ValidatorBuilder.&lt;ZipCode&gt; of()
    .constraint(ZipCode::asString, "zipCode", c -&gt; c.contains("-"))
    .build();

ConstraintViolations violations = validator.validate(new ZipCode("123-4567")); // Valid
ConstraintViolations violations = validator.validate(new ZipCode(null)); // Valid
ConstraintViolations violations = validator.validate(new ZipCode("1234567")); // Invalid ("zipCode" must contain -)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.contains</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must contain {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified char sequence</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="patternstring"><a class="anchor" href="#patternstring"></a>7.1.11. <code>pattern(String)</code></h4>
<div class="paragraph">
<p>Checks if the target value matches the specified regular expression</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;ZipCode&gt; validator = ValidatorBuilder.&lt;ZipCode&gt; of()
    .constraint(ZipCode::asString, "zipCode", c -&gt; c.pattern("[0-9]{3}-[0-9]{4}"))
    .build();

ConstraintViolations violations = validator.validate(new ZipCode("123-4567")); // Valid
ConstraintViolations violations = validator.validate(new ZipCode(null)); // Valid
ConstraintViolations violations = validator.validate(new ZipCode("1234567")); // Invalid ("zipCode" must match [0-9]{3}-[0-9]{4})</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.pattern</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must match {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified regular expression</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="email"><a class="anchor" href="#email"></a>7.1.12. <code>email()</code></h4>
<div class="paragraph">
<p>Checks if the target value is a valid email address</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Email&gt; validator = ValidatorBuilder.&lt;Email&gt; of()
    .constraint(Email::asString, "email", c -&gt; c.email())
    .build();

ConstraintViolations violations = validator.validate(new Email("yavi@example.com")); // Valid
ConstraintViolations violations = validator.validate(new Email(null)); // Valid
ConstraintViolations violations = validator.validate(new Email("example.com")); // Invalid ("email" must not be a valid email address)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.email</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must match {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="password"><a class="anchor" href="#password"></a>7.1.13. <code>password(&#8230;&#8203;)</code></h4>
<div class="paragraph">
<p>Check if the target value meets the specified password policy</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Password&gt; validator = ValidatorBuilder.&lt;Password&gt; of()
        .constraint(Password::value, "password", c -&gt; c.password(policy -&gt; policy
                .uppercase()
                .lowercase()
                // or .required(PasswordPolicy.UPPERCASE, PasswordPolicy.LOWERCASE)
                .optional(1, PasswordPolicy.NUMBERS, PasswordPolicy.SYMBOLS)
                .build()))
        .build();

ConstraintViolations violations = validator.validate(new Password("Yavi123")); // Valid
ConstraintViolations violations = validator.validate(new Password(null)); // Valid
ConstraintViolations violations = validator.validate(new Password("yavi123")); // Invalid ("password" must meet Uppercase policy)
ConstraintViolations violations = validator.validate(new Password("yavi")); // Invalid ("password" must meet Uppercase policy, "password" must meet at least 1 policies from [Numbers, Symbols])
ConstraintViolations violations = validator.validate(new Password("")); // Invalid ("password" must meet Uppercase policy, "password" must meet Lowercase policy, "password" must meet at least 1 policies from [Numbers, Symbols])</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password.required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must meet {1} policy</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified policy name</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password.optional</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must meet at least {1} policies from {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; minimum requirement</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the specified policy names</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Buit-in password policies are following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>am.ik.yavi.constraint.password.PasswordPolicy#UPPERCASE</code></p>
</li>
<li>
<p><code>am.ik.yavi.constraint.password.PasswordPolicy#LOWERCASE</code></p>
</li>
<li>
<p><code>am.ik.yavi.constraint.password.PasswordPolicy#ALPHABETS</code></p>
</li>
<li>
<p><code>am.ik.yavi.constraint.password.PasswordPolicy#NUMBERS</code></p>
</li>
<li>
<p><code>am.ik.yavi.constraint.password.PasswordPolicy#SYMBOLS</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can specify the count of the pattern as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Password&gt; validator = ValidatorBuilder.&lt;Password&gt; of()
        .constraint(Password::value, "password", c -&gt; c.password(policy -&gt; policy
                .uppercase(2) // at least 2 upper case characters are required
                .lowercase(2) // at least 2 lower case characters are required
                // or .required(PasswordPolicy.UPPERCASE.count(2), PasswordPolicy.LOWERCASE.count(2))
                .build()))
        .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can define a custom password policy as bellow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">PasswordPolicy&lt;String&gt; passwordPolicy = new PasswordPolicy&lt;&gt;() {
    @Override
    public String name() {
        return "DoNotIncludePassword";
    }

    @Override
    public boolean test(String s) {
        return !s.equalsIgnoreCase("password");
    }
};


Validator&lt;Password&gt; validator = ValidatorBuilder.&lt;Password&gt; of()
        .constraint(Password::value, "password", c -&gt; c.password(policy -&gt; policy
                .required(passwordPolicy)
                // ...
                .build()))
        .build();</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ipv4"><a class="anchor" href="#ipv4"></a>7.1.14. <code>ipv4()</code></h4>
<div class="paragraph">
<p>Check if the target value is a valid IPv4 address</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;IpAddress&gt; validator = ValidatorBuilder.&lt;IpAddress&gt; of()
    .constraint(IpAddress::asString, "ipAddress", c -&gt; c.ipv4())
    .build();

ConstraintViolations violations = validator.validate(new IpAddress("192.0.2.1")); // Valid
ConstraintViolations violations = validator.validate(new IpAddress(null)); // Valid
ConstraintViolations violations = validator.validate(new IpAddress("example.com")); // Invalid ("ipAddress" must not be a valid IPv4)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.ipv4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid IPv4</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="ipv6"><a class="anchor" href="#ipv6"></a>7.1.15. <code>ipv6()</code></h4>
<div class="paragraph">
<p>Check if the target value is a valid IPv6 address</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;IpAddress&gt; validator = ValidatorBuilder.&lt;IpAddress&gt; of()
    .constraint(IpAddress::asString, "ipAddress", c -&gt; c.ipv6())
    .build();

ConstraintViolations violations = validator.validate(new IpAddress("2001:0db8:bd05:01d2:288a:1fc0:0001:10ee")); // Valid
ConstraintViolations violations = validator.validate(new IpAddress(null)); // Valid
ConstraintViolations violations = validator.validate(new IpAddress("192.0.2.1")); // Invalid ("ipAddress" must not be a valid IPv6)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.ipv6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid IPv6</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="url"><a class="anchor" href="#url"></a>7.1.16. <code>url()</code></h4>
<div class="paragraph">
<p>Check if the target value is a valid URL</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Url&gt; validator = ValidatorBuilder.&lt;Url&gt; of()
    .constraint(Url::asString, "url", c -&gt; c.url())
    .build();

ConstraintViolations violations = validator.validate(new Url("https://yavi.ik.am")); // Valid
ConstraintViolations violations = validator.validate(new Url(null)); // Valid
ConstraintViolations violations = validator.validate(new Url("yavi.ik.am")); // Invalid ("url" must be a valid URL)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid URL</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="luhn"><a class="anchor" href="#luhn"></a>7.1.17. <code>luhn()</code></h4>
<div class="paragraph">
<p>Checks if the digits within the target value pass the Luhn checksum algorithm (see also <a href="http://en.wikipedia.org/wiki/Luhn_algorithm">Luhn algorithm</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CreditCard&gt; validator = ValidatorBuilder.&lt;CreditCard&gt; of()
    .constraint(CreditCard::number, "creditCardNumber", c -&gt; c.luhn())
    .build();

ConstraintViolations violations = validator.validate(new CreditCard("4111111111111111")); // Valid
ConstraintViolations violations = validator.validate(new CreditCard(null)); // Valid
ConstraintViolations violations = validator.validate(new CreditCard("4111111111111112")); // Invalid (the check digit for "creditCardNumber" is invalid, Luhn checksum failed)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.luhn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>the check digit for "{0}" is invalid, Luhn checksum failed</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isbyte"><a class="anchor" href="#isbyte"></a>7.1.18. <code>isByte()</code></h4>
<div class="paragraph">
<p>Check if the target value can be parsed as a <code>Byte</code> value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;UserId&gt; validator = ValidatorBuilder.&lt;UserId&gt; of()
    .constraint(UserId::asString, "userId", c -&gt; c.isByte())
    .build();

ConstraintViolations violations = validator.validate(UserId.valueOf("127")); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf(null)); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf("a")); // Invalid ("userId" must be a valid representation of a byte)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.byte</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid representation of a byte</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isshort"><a class="anchor" href="#isshort"></a>7.1.19. <code>isShort()</code></h4>
<div class="paragraph">
<p>Check if the target value can be parsed as a <code>Short</code> value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;UserId&gt; validator = ValidatorBuilder.&lt;UserId&gt; of()
    .constraint(UserId::asString, "userId", c -&gt; c.isShort())
    .build();

ConstraintViolations violations = validator.validate(UserId.valueOf("32767")); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf(null)); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf("a")); // Invalid ("userId" must be a valid representation of a short)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.short</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid representation of a short</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isinteger"><a class="anchor" href="#isinteger"></a>7.1.20. <code>isInteger()</code></h4>
<div class="paragraph">
<p>Check if the target value can be parsed as an <code>Integer</code> value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;UserId&gt; validator = ValidatorBuilder.&lt;UserId&gt; of()
    .constraint(UserId::asString, "userId", c -&gt; c.isInteger())
    .build();

ConstraintViolations violations = validator.validate(UserId.valueOf("2147483647")); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf(null)); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf("a")); // Invalid ("userId" must be a valid representation of an integer)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid representation of an integer</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="islong"><a class="anchor" href="#islong"></a>7.1.21. <code>isLong()</code></h4>
<div class="paragraph">
<p>Check if the target value can be parsed as a <code>Long</code> value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;UserId&gt; validator = ValidatorBuilder.&lt;UserId&gt; of()
    .constraint(UserId::asString, "userId", c -&gt; c.isLong())
    .build();

ConstraintViolations violations = validator.validate(UserId.valueOf("9223372036854775807")); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf(null)); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf("a")); // Invalid ("userId" must be a valid representation of a long)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid representation of a long</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isfloat"><a class="anchor" href="#isfloat"></a>7.1.22. <code>isFloat()</code></h4>
<div class="paragraph">
<p>Check if the target value can be parsed as a <code>Float</code> value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Money&gt; validator = ValidatorBuilder.&lt;Money&gt; of()
    .constraint(Money::asString, "money", c -&gt; c.isFloat())
    .build();

ConstraintViolations violations = validator.validate(Money.valueOf("0.1")); // Valid
ConstraintViolations violations = validator.validate(Money.valueOf(null)); // Valid
ConstraintViolations violations = validator.validate(Money.valueOf("a")); // Invalid ("money" must be a valid representation of a float)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid representation of a float.</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isdouble"><a class="anchor" href="#isdouble"></a>7.1.23. <code>isDouble()</code></h4>
<div class="paragraph">
<p>Check if the target value can be parsed as a <code>Double</code> value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Money&gt; validator = ValidatorBuilder.&lt;Money&gt; of()
    .constraint(Money::asString, "money", c -&gt; c.isDouble())
    .build();

ConstraintViolations violations = validator.validate(Money.valueOf("0.1")); // Valid
ConstraintViolations violations = validator.validate(Money.valueOf(null)); // Valid
ConstraintViolations violations = validator.validate(Money.valueOf("a")); // Invalid ("money" must be a valid representation of a double)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.double</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid representation of a double</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isbiginteger"><a class="anchor" href="#isbiginteger"></a>7.1.24. <code>isBigInteger()</code></h4>
<div class="paragraph">
<p>Check if the target value can be parsed as a <code>BigInteger</code> value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;UserId&gt; validator = ValidatorBuilder.&lt;UserId&gt; of()
    .constraint(UserId::asString, "userId", c -&gt; c.isBigInteger())
    .build();

ConstraintViolations violations = validator.validate(UserId.valueOf("127")); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf(null)); // Valid
ConstraintViolations violations = validator.validate(UserId.valueOf("a")); // Invalid ("userId" must be a valid representation of a big integer)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.bigInteger</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid representation of a big integer</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isbigdecimal"><a class="anchor" href="#isbigdecimal"></a>7.1.25. <code>isBigDecimal()</code></h4>
<div class="paragraph">
<p>Check if the target value can be parsed as a <code>BigDecimal</code> value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Money&gt; validator = ValidatorBuilder.&lt;Money&gt; of()
    .constraint(Money::asString, "money", c -&gt; c.isBigDecimal())
    .build();

ConstraintViolations violations = validator.validate(Money.valueOf("50.0")); // Valid
ConstraintViolations violations = validator.validate(Money.valueOf(null)); // Valid
ConstraintViolations violations = validator.validate(Money.valueOf("a")); // Invalid ("money" must be a valid representation of a big decimal)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSequence.bigDecimal</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be a valid representation of a big decimal</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="codepoints"><a class="anchor" href="#codepoints"></a>7.1.26. <code>codePoints(&#8230;&#8203;)</code></h4>
<div class="paragraph">
<p>Checks if the target value is in the specified set of code points.
Code points can be specified as allowed characters (whitelist) or prohibited characters (blacklist).</p>
</div>
<div class="paragraph">
<p>A set of code points is represented by <code>am.ik.yavi.constraint.charsequence.CodePoints</code> interface, and there is <code>am.ik.yavi.constraint.charsequence.CodePoints.CodePointsSet</code> interface that represents the set using <code>java.util.Set</code> and <code>am.ik.yavi.constraint.charsequence.CodePoints.CodePointsRanges</code> interface that represents a list of code point ranges.</p>
</div>
<div class="paragraph">
<p>For example, a code point set consisting of "A, B, C, D, a, b, c, d" is expressed as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">CodePointsSet&lt;String&gt; codePoints = () -&gt; Set.of(
        0x0041 /* A */, 0x0042 /* B */, 0x0043 /* C */, 0x0044 /* D */,
        0x0061 /* a */, 0x0062 /* b */, 0x0063 /* c */, 0x0064 /* d */);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">CodePointsRanges&lt;String&gt; codePoints = () -&gt; List.of(
        Range.of(0x0041/* A */, 0x0044 /* D */),
        Range.of(0x0061/* a */, 0x0064 /* d */));</code></pre>
</div>
</div>
<div class="paragraph">
<p>For consecutive code points, the latter is overwhelmingly more memory efficient.</p>
</div>
<div class="paragraph">
<p>If you want to regard the code point set as a white list (allowed characters), specify as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Message&gt; validator = ValidatorBuilder.&lt;Message&gt; of()
    .constraint(Message::getText, "text", c -&gt; c.codePoints(codePoints).asWhiteList())
    .build();

ConstraintViolations violations = validator.validate(new Message("aBCd")); // Valid
ConstraintViolations violations = validator.validate(new Message(null)); // Valid
ConstraintViolations violations = validator.validate(new Message("aBCe")); // Invalid ("[e]" is/are not allowed for "text")</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to regard the code point set as a blacklist (prohibited characters), specify as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Message&gt; validator = ValidatorBuilder.&lt;Message&gt; of()
    .constraint(Message::getText, "text", c -&gt; c.codePoints(codePoints).asBlackList())
    .build();

ConstraintViolations violations = validator.validate(new Message("hello")); // Valid
ConstraintViolations violations = validator.validate(new Message(null)); // Valid
ConstraintViolations violations = validator.validate(new Message("hallo")); // Invalid ("[a]" is/are not allowed for "text")</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>codePoints.asWhiteList</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{1}" is/are not allowed for "{0}"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the violated value</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>codePoints.asBlackList</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{1}" is/are not allowed for "{0}"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the violated value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following is a set of built-in code points.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>am.ik.yavi.constraint.charsequence.codepoints.AsciiCodePoints#ASCII_PRINTABLE_CHARS</code> &#8230;&#8203; ASCII printable characters</p>
</li>
<li>
<p><code>am.ik.yavi.constraint.charsequence.codepoints.AsciiCodePoints#ASCII_CONTROL_CHARS</code> &#8230;&#8203; ASCII control characters</p>
</li>
<li>
<p><code>am.ik.yavi.constraint.charsequence.codepoints.AsciiCodePoints#CRLF</code> &#8230;&#8203; <code>0x000A</code> (LINE FEED) and <code>0x000D</code> (CARRIAGE RETURN)</p>
</li>
<li>
<p><code>am.ik.yavi.constraint.charsequence.codepoints.UnicodeCodePoints#HIRAGANA</code> &#8230;&#8203; <a href="https://www.unicode.org/charts/nameslist/c_3040.html">Hiragana</a> defined in Unicode (different from JIS X 0208 definition)</p>
</li>
<li>
<p><code>am.ik.yavi.constraint.charsequence.codepoints.UnicodeCodePoints#KATAKANA</code> &#8230;&#8203; <a href="https://www.unicode.org/charts/nameslist/c_30A0.html">Katakana</a> and <a href="https://www.unicode.org/charts/nameslist/c_31F0.html">Katakana Phonetic Extensions</a> defined in Unicode (different from JIS X 0208 definition)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also represent the union of multiple code point sets with <code>am.ik.yavi.constraint.charsequence.codepoints.CompositeCodePoints</code> class.</p>
</div>
</div>
<div class="sect3">
<h4 id="advanced-character-length-check"><a class="anchor" href="#advanced-character-length-check"></a>7.1.27. Advanced character length check</h4>
<div class="paragraph">
<p>YAVI counts the input characters as the number of characters as it looks in the constraints on the number of characters. Recently, as a result of defining various characters on Unicode, the visual size and the return value of <code>String#length</code> method are quite different.</p>
</div>
<div class="paragraph">
<p>YAVI supports the following character types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Surrogate pair</p>
</li>
<li>
<p>Combining character</p>
</li>
<li>
<p>Variation Selector</p>
<div class="ulist">
<ul>
<li>
<p>IVS (Ideographic Variation Sequence)</p>
</li>
<li>
<p>SVS (Standardized Variation Sequence)</p>
</li>
<li>
<p>FVS (Mongolian Free Variation Selector)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Emoji</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>YAVI will perform a constraint check on surrogate pairs and combining characters with the number of characters as they look. (For Emoji, IVS, SVS and FVS, the size is not checked as it looks by default due to the performance.)</p>
</div>
<div class="paragraph">
<p>Let&#8217;s look at a typical example.</p>
</div>
<div class="sect4">
<h5 id="surrogate-pair"><a class="anchor" href="#surrogate-pair"></a>Surrogate pair</h5>
<div class="paragraph">
<p><code>𠮷野屋</code> is an example of a surrogate pair. It looks like 3 characters, but the result of <code>length</code> method is 4 (<code>\uD842\uDFB7野屋</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">System.out.println("𠮷野屋".length()); // 4 (\uD842\uDFB7野屋)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since YAVI treats the character length as the code point length, this character string is regarded as 3 characters.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Message&gt; validator = ValidatorBuilder.&lt;Message&gt; of()
    .constraint(Message::getText, "text", c -&gt; c.lessThanOrEqual(3))
    .build();

ConstraintViolations = validator.validate(new Message("𠮷野屋")); // Valid</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="combining-character"><a class="anchor" href="#combining-character"></a>Combining character</h5>
<div class="paragraph">
<p><code>モジ</code> is an example of a combining character. Although it looks like 2 characters, <code>シ</code> and dakuten(<code>゙</code>) are combined, and the result of <code>length()</code> is 3 (<code>モシ\u3099</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">System.out.println("モジ".length()); // 3 (モシ\u3099)</code></pre>
</div>
</div>
<div class="paragraph">
<p>YAVI considers this string to be 2 characters by default.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Message&gt; validator = ValidatorBuilder.&lt;Message&gt; of()
    .constraint(Message::getText, "text", c -&gt; c.lessThanOrEqual(2))
    .build();

ConstraintViolations = validator.validate(new Message("モジ")); // Valid</code></pre>
</div>
</div>
<div class="paragraph">
<p>YAVI uses <code>java.text.Normalizer</code> and normalizes with <code>java.text.Normalizer.Form#NFC</code> by default. This behavior can be changed as follows: (If <code>null</code> is set, it will not be normalized)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Message&gt; validator = ValidatorBuilder.&lt;Message&gt; of()
    .constraint(Message::getText, "text", c -&gt; c.normalizer(normalizerForm)
                .lessThanOrEqual(2))
    .build();</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="variation-selector"><a class="anchor" href="#variation-selector"></a>Variation Selector</h5>
<div class="paragraph">
<p><code>𠮟󠄀</code> is an example of an Ideographic Variation Sequence. Variant selectors cannot be normalized with <code>Normalizer</code>.
It looks like 1 character, but when expressed in UTF-16, it is "D842 DF9F DB40 DD00", so the result of <code>length()</code> is 4.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">System.out.println("𠮟󠄀".length()); // 4 (\uD842\uDF9F\uDB40\uDD00󠄀)</code></pre>
</div>
</div>
<div class="paragraph">
<p>YAVI does <strong>not</strong> consider this character as a single character by default to prevent performance degradation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Message&gt; validator = ValidatorBuilder.&lt;Message&gt; of()
        .constraint(Message::getText, "text", c -&gt; c.lessThanOrEqual(1))
        .build();
ConstraintViolations = validator.validate(new Message("𠮟󠄀")); // Invalid (The size of "text" must be less than or equal to 1. The given size is 2)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can ignore (delete) the code point of <code>0xE0100</code>-<code>0xE01EF</code>, which is the range of IVS from the target string, as follows.
This way you can regard this string as just a surrogate pair.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Message&gt; validator = ValidatorBuilder.&lt;Message&gt; of()
        .constraint(Message::getText, "text", c -&gt; c.variant(opts -&gt; opts.ivs(IdeographicVariationSequence.IGNORE))
                .lessThanOrEqual(1))
        .build();
ConstraintViolations = validator.validate(new Message("𠮟󠄀")); // Valid</code></pre>
</div>
</div>
<div class="paragraph">
<p>SVS and FVS can be handled in the same way.</p>
</div>
</div>
<div class="sect4">
<h5 id="emoji"><a class="anchor" href="#emoji"></a>Emoji</h5>
<div class="paragraph">
<p>Emoji is crazy. The apparent number of characters and the number of code points are far away.</p>
</div>
<div class="paragraph">
<p>Let me give you examples.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">System.out.println("❤️".length()); // 2
System.out.println("🤴🏻".length()); // 4
System.out.println("👨‍👦".length()); // 5
System.out.println("️👨‍👨‍👧‍👦".length()); // 12
System.out.println("🏴󠁧󠁢󠁥󠁮󠁧󠁿".length()); // 14 (WTH!)</code></pre>
</div>
</div>
<div class="paragraph">
<p>YAVI can try to count these Emojis as one character as much as possible. There is no guarantee, but all emojis defined in Emoji 12.0 have been tested.</p>
</div>
<div class="paragraph">
<p>This process is expensive and is <strong>not</strong> enabled by default. To enable this feature, specify the <code>emoji()</code> method as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Message&gt; validator = ValidatorBuilder.&lt;Message&gt; of()
    .constraint(Message::getText, "text", c -&gt; c.emoji().lessThanOrEqual(1))
    .build();
ConstraintViolations = validator.validate(new Message("❤️")); // Valid
ConstraintViolations = validator.validate(new Message("🤴🏻")); // Valid
ConstraintViolations = validator.validate(new Message("👨‍👦")); // Valid
ConstraintViolations = validator.validate(new Message("️👨‍👨‍👧‍👦")); // Valid
ConstraintViolations = validator.validate(new Message("🏴󠁧󠁢󠁥󠁮󠁧󠁿")); // Valid</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="asbytearray"><a class="anchor" href="#asbytearray"></a>7.1.28. <code>asByteArray()</code></h4>
<div class="paragraph">
<p>If there is a discrepancy between the apparent character length and the actual code point length, the appearance restrictions are OK, but the size stored in the database may be exceeded. In YAVI, you can check the byte length in addition to the visual size.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Message&gt; validator = ValidatorBuilder.&lt;Message&gt; of()
    .constraint(Message::getText, "text", c -&gt; c.emoji().lessThanOrEqual(3)
            .asByteArray().lessThanOrEqual(16))
    .build();

ConstraintViolations = validator.validate(new Message("I❤️☕️️")); // Valid
ConstraintViolations = validator.validate(new Message("❤️❤️❤️️️")); // Invalid (The byte size of "text" must be less than or equal to 16. The given size is 24)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byteSize.lessThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The byte size of "{0}" must be less than {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byteSize.lessThanOrEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The byte size of "{0}" must be less than or equal to {1}. The given size is {2}"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byteSize.greaterThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The byte size of "{0}" must be greater than {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byteSize.greaterThanOrEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The byte size of "{0}" must be greater than or equal to {1}. The given size is {2}"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byteSize.fixedSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The byte size of "{0}" must be {1}. The given size is {2}"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="integershortlongcharacterbytefloatlongbigintegerbigdecimal"><a class="anchor" href="#integershortlongcharacterbytefloatlongbigintegerbigdecimal"></a>7.2. Integer/Short/Long/Character/Byte/Float/Long/BigInteger/BigDecimal</h3>
<div class="paragraph">
<p>Apply the constraints on the <code>Integer</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    .constraint(/* Function from TargetClass to Integer  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>To avoid ambiguous type inferences, you can use explicit <code>_integer</code> instead of <code>constraint</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    ._integer(/* Function from TargetClass to Integer  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The same goes for <code>Short</code>/<code>Long</code>/<code>Character</code>/<code>Byte</code>/<code>Float</code>/<code>Long</code> / <code>BigInteger</code> / <code>BigDecimal</code>.</p>
</div>
<div class="sect3">
<h4 id="notnull-2"><a class="anchor" href="#notnull-2"></a>7.2.1. <code>notNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is not <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Age&gt; validator = ValidatorBuilder.&lt;Age&gt; of()
    .constraint(Age::asInt, "age", c -&gt; c.notNull())
    .build();

ConstraintViolations violations = validator.validate(new Age(30)); // Valid
ConstraintViolations violations = validator.validate(new Age(null)); // Invalid ("age" must not be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.notNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isnull-2"><a class="anchor" href="#isnull-2"></a>7.2.2. <code>isNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Age&gt; validator = ValidatorBuilder.&lt;Age&gt; of()
    .constraint(Age::asInt, "age", c -&gt; c.isNull())
    .build();

ConstraintViolations violations = validator.validate(new Age(null)); // Valid
ConstraintViolations violations = validator.validate(new Age(30)); // Invalid ("age" must be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.isNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="greaterthan"><a class="anchor" href="#greaterthan"></a>7.2.3. <code>greaterThan(&#8230;&#8203;)</code></h4>
<div class="paragraph">
<p>Checks if the target value is greater than the specified value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Age&gt; validator = ValidatorBuilder.&lt;Age&gt; of()
    .constraint(Age::asInt, "age", c -&gt; c.greaterThan(20))
    .build();

ConstraintViolations violations = validator.validate(new Age(21)); // Valid
ConstraintViolations violations = validator.validate(new Age(null)); // Valid
ConstraintViolations violations = validator.validate(new Age(20)); // Invalid ("age" must be greater than 20)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>numeric.greaterThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be greater than {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="greaterthanorequal"><a class="anchor" href="#greaterthanorequal"></a>7.2.4. <code>greaterThanOrEqual(&#8230;&#8203;)</code></h4>
<div class="paragraph">
<p>Checks if the target value is greater than or equals to the specified value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Age&gt; validator = ValidatorBuilder.&lt;Age&gt; of()
    .constraint(Age::asInt, "age", c -&gt; c.greaterThanOrEqual(20))
    .build();

ConstraintViolations violations = validator.validate(new Age(20)); // Valid
ConstraintViolations violations = validator.validate(new Age(null)); // Valid
ConstraintViolations violations = validator.validate(new Age(19)); // Invalid ("age" must be greater than or equal to 10)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>numeric.greaterThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be greater than or equal to {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="lessthan"><a class="anchor" href="#lessthan"></a>7.2.5. <code>lessThan(&#8230;&#8203;)</code></h4>
<div class="paragraph">
<p>Checks if the target value is less than the specified value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Age&gt; validator = ValidatorBuilder.&lt;Age&gt; of()
    .constraint(Age::asInt, "age", c -&gt; c.lessThan(20))
    .build();

ConstraintViolations violations = validator.validate(new Age(19)); // Valid
ConstraintViolations violations = validator.validate(new Age(null)); // Valid
ConstraintViolations violations = validator.validate(new Age(20)); // Invalid ("age" must be less than 20)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>numeric.lessThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be less than {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="lessthanorequal"><a class="anchor" href="#lessthanorequal"></a>7.2.6. <code>lessThanOrEqual(&#8230;&#8203;)</code></h4>
<div class="paragraph">
<p>Checks if the target value is less than or equals to the specified value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Age&gt; validator = ValidatorBuilder.&lt;Age&gt; of()
    .constraint(Age::asInt, "age", c -&gt; c.lessThanOrEqual(20))
    .build();

ConstraintViolations violations = validator.validate(new Age(19)); // Valid
ConstraintViolations violations = validator.validate(new Age(null)); // Valid
ConstraintViolations violations = validator.validate(new Age(21)); // Invalid ("age" must be less than or equal to 10)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>numeric.lessThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be less than or equal to {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="boolean"><a class="anchor" href="#boolean"></a>7.3. Boolean</h3>
<div class="paragraph">
<p>Apply the constraints on the <code>Boolean</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    .constraint(/* Function from TargetClass to Boolean  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>To avoid ambiguous type inferences, you can use explicit <code>_boolean</code> instead of <code>constraint</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    ._boolean(/* Function from TargetClass to Boolean  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="notnull-3"><a class="anchor" href="#notnull-3"></a>7.3.1. <code>notNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is not <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Confirmation&gt; validator = ValidatorBuilder.&lt;Confirmation&gt; of()
    .constraint(Confirmation::isConfirmed, "confirmed", c -&gt; c.notNull())
    .build();

ConstraintViolations violations = validator.validate(new Confirmation(true)); // Valid
ConstraintViolations violations = validator.validate(new Confirmation(null)); // Invalid ("confirmed" must not be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.notNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isnull-3"><a class="anchor" href="#isnull-3"></a>7.3.2. <code>isNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Confirmation&gt; validator = ValidatorBuilder.&lt;Confirmation&gt; of()
    .constraint(Confirmation::isConfirmed, "confirmed", c -&gt; c.isNull())
    .build();

ConstraintViolations violations = validator.validate(new Confirmation(null)); // Valid
ConstraintViolations violations = validator.validate(new Confirmation(true)); // Invalid ("confirmed" must be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.isNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="istrue"><a class="anchor" href="#istrue"></a>7.3.3. <code>isTrue()</code></h4>
<div class="paragraph">
<p>Checks that the target value is <code>true</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Confirmation&gt; validator = ValidatorBuilder.&lt;Confirmation&gt; of()
    .constraint(Confirmation::isConfirmed, "confirmed", c -&gt; c.isTrue())
    .build();

ConstraintViolations violations = validator.validate(new Confirmation(true)); // Valid
ConstraintViolations violations = validator.validate(new Confirmation(null)); // Valid
ConstraintViolations violations = validator.validate(new Confirmation(false)); // Invalid ("confirmed" must be true)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean.isTrue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be true</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isfalse"><a class="anchor" href="#isfalse"></a>7.3.4. <code>isFalse()</code></h4>
<div class="paragraph">
<p>Checks that the target value is <code>false</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Rented&gt; validator = ValidatorBuilder.&lt;Rented&gt; of()
    .constraint(Rented::isRented, "rented", c -&gt; c.isFalse())
    .build();

ConstraintViolations violations = validator.validate(new Rented(false)); // Valid
ConstraintViolations violations = validator.validate(new Rented(null)); // Valid
ConstraintViolations violations = validator.validate(new Rented(true)); // Invalid ("rented" must be false)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean.isFalse</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be false</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="collection"><a class="anchor" href="#collection"></a>7.4. Collection</h3>
<div class="paragraph">
<p>Apply the constraints on the <code>Collection</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    .constraint(/* Function from TargetClass to Collection  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>To avoid ambiguous type inferences, you can use explicit <code>_collection</code> instead of <code>constraint</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    ._collection(/* Function from TargetClass to Collection  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="notnull-4"><a class="anchor" href="#notnull-4"></a>7.4.1. <code>notNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is not <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
        .constraint(Histories::asList, "histories", c -&gt; c.notNull())
        .build();

ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History()))); // Valid
ConstraintViolations violations = validator.validate(new Histories(null)); // Invalid ("histories" must not be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.notNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isnull-4"><a class="anchor" href="#isnull-4"></a>7.4.2. <code>isNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
    .constraint(Histories::asList, "histories", c -&gt; c.isNull())
    .build();

ConstraintViolations violations = validator.validate(new Histories(null)); // Valid
ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History()))); // Invalid ("histories" must be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.isNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="notempty-2"><a class="anchor" href="#notempty-2"></a>7.4.3. <code>notEmpty()</code></h4>
<div class="paragraph">
<p>Checks that the target value is not empty</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
        .constraint(Histories::asList, "histories", c -&gt; c.notEmpty())
        .build();

ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History()))); // Valid
ConstraintViolations violations = validator.validate(new Histories(null)); // Invalid ("histories" must not be empty)
ConstraintViolations violations = validator.validate(new Histories(List.of())); // Invalid ("histories" must not be empty)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.notEmpty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be empty</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="fixedsizeint-2"><a class="anchor" href="#fixedsizeint-2"></a>7.4.4. <code>fixedSize(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
        .constraint(Histories::asList, "histories", c -&gt; c.fixedSize(2))
        .build();

ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History()))); // Valid
ConstraintViolations violations = validator.validate(new Histories(null)); // Valid
ConstraintViolations violations = validator.validate(new Histories(List.of(new History()))); // Invalid (The size of "histories" must be 2. The given size is 1)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.fixedSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="greaterthanint-2"><a class="anchor" href="#greaterthanint-2"></a>7.4.5. <code>greaterThan(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is greater than the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
        .constraint(Histories::asList, "histories", c -&gt; c.greaterThan(1))
        .build();

ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History()))); // Valid
ConstraintViolations violations = validator.validate(new Histories(null)); // Valid
ConstraintViolations violations = validator.validate(new Histories(List.of(new History()))); // Invalid (The size of "histories" must be greater than 1. The given size is 1)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.greaterThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be greater than {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="greaterthanorequalint-2"><a class="anchor" href="#greaterthanorequalint-2"></a>7.4.6. <code>greaterThanOrEqual(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is greater than or equals to the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
        .constraint(Histories::asList, "histories", c -&gt; c.greaterThanOrEqual(2))
        .build();

ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History()))); // Valid
ConstraintViolations violations = validator.validate(new Histories(null)); // Valid
ConstraintViolations violations = validator.validate(new Histories(List.of(new History()))); // Invalid (The size of "histories" must be greater than or equal to 2. The given size is 1)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.greaterThanOrEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be greater than or equal to {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="lessthanint-2"><a class="anchor" href="#lessthanint-2"></a>7.4.7. <code>lessThan(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is less than the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
        .constraint(Histories::asList, "histories", c -&gt; c.lessThan(3))
        .build();

ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History()))); // Valid
ConstraintViolations violations = validator.validate(new Histories(null)); // Valid
ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History(), new History()))); // Invalid (The size of "histories" must be less than 3. The given size is 3)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.lessThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be less than {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="lessthanorequalint-2"><a class="anchor" href="#lessthanorequalint-2"></a>7.4.8. <code>lessThanOrEqual(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is less than or equals to the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
        .constraint(Histories::asList, "histories", c -&gt; c.lessThanOrEqual(2))
        .build();

ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History()))); // Valid
ConstraintViolations violations = validator.validate(new Histories(null)); // Valid
ConstraintViolations violations = validator.validate(new Histories(List.of(new History(), new History(), new History()))); // Invalid (The size of "histories" must be less than or equal to 2. The given size is 3)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.lessThanOrEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be less than or equal to {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="contains"><a class="anchor" href="#contains"></a>7.4.9. <code>contains(&#8230;&#8203;)</code></h4>
<div class="paragraph">
<p>Checks if the target value contains the specified value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;Histories&gt; validator = ValidatorBuilder.&lt;Histories&gt; of()
        .constraint(Histories::asList, "histories", c -&gt; c.contains(new History(2)))
        .build();

ConstraintViolations violations = validator.validate(new Histories(List.of(new History(1), new History(2)))); // Valid
ConstraintViolations violations = validator.validate(new Histories(null)); // Valid
ConstraintViolations violations = validator.validate(new Histories(List.of(new History(3), new History(4), new History(5)))); // Invalid ("histories" must contain History{revision=2})</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>collection.contains</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must contain {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified value</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="map"><a class="anchor" href="#map"></a>7.5. Map</h3>
<div class="paragraph">
<p>Apply the constraints on the <code>Map</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    .constraint(/* Function from TargetClass to Map  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>To avoid ambiguous type inferences, you can use explicit <code>_map</code> instead of <code>constraint</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    ._map(/* Function from TargetClass to Map  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="notnull-5"><a class="anchor" href="#notnull-5"></a>7.5.1. <code>notNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is not <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
        .constraint(CodeMap::asMap, "codeMap", c -&gt; c.notNull())
        .build();

ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(null)); // Invalid ("codeMap" must not be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.notNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isnull-5"><a class="anchor" href="#isnull-5"></a>7.5.2. <code>isNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
    .constraint(CodeMap::asMap, "codeMap", c -&gt; c.isNull())
    .build();

ConstraintViolations violations = validator.validate(new CodeMap(null)); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Invalid ("codeMap" must be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.isNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="notempty-3"><a class="anchor" href="#notempty-3"></a>7.5.3. <code>notEmpty()</code></h4>
<div class="paragraph">
<p>Checks that the target value is not empty</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
        .constraint(CodeMap::asMap, "codeMap", c -&gt; c.notEmpty())
        .build();

ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(null)); // Invalid ("codeMap" must not be empty)
ConstraintViolations violations = validator.validate(new CodeMap(Map.of())); // Invalid ("codeMap" must not be empty)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.notEmpty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be empty</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="fixedsizeint-3"><a class="anchor" href="#fixedsizeint-3"></a>7.5.4. <code>fixedSize(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
        .constraint(CodeMap::asMap, "codeMap", c -&gt; c.fixedSize(2))
        .build();

ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(null)); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(Map.of())); // Invalid (The size of "codeMap" must be 2. The given size is 1)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.fixedSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="greaterthanint-3"><a class="anchor" href="#greaterthanint-3"></a>7.5.5. <code>greaterThan(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is greater than the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
        .constraint(CodeMap::asMap, "codeMap", c -&gt; c.greaterThan(1))
        .build();

ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(null)); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A"))); // Invalid (The size of "codeMap" must be greater than 1. The given size is 1)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.greaterThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be greater than {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="greaterthanorequalint-3"><a class="anchor" href="#greaterthanorequalint-3"></a>7.5.6. <code>greaterThanOrEqual(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is greater than or equals to the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
        .constraint(CodeMap::asMap, "codeMap", c -&gt; c.greaterThanOrEqual(2))
        .build();

ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(null)); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A"))); // Invalid (The size of "codeMap" must be greater than or equal to 2. The given size is 1)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.greaterThanOrEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be greater than or equal to {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="lessthanint-3"><a class="anchor" href="#lessthanint-3"></a>7.5.7. <code>lessThan(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is less than the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
        .constraint(CodeMap::asMap, "codeMap", c -&gt; c.lessThan(3))
        .build();

ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(null)); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B", "c", "C"))); // Invalid (The size of "histories" must be less than 3. The given size is 3)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.lessThan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be less than {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="lessthanorequalint-3"><a class="anchor" href="#lessthanorequalint-3"></a>7.5.8. <code>lessThanOrEqual(int)</code></h4>
<div class="paragraph">
<p>Checks if the target value&#8217;s size is less than or equals to the specified size</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
        .constraint(CodeMap::asMap, "codeMap", c -&gt; c.lessThanOrEqual(2))
        .build();

ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(null)); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B", "c", "C"))); // Invalid (The size of "histories" must be less than or equal to 2. The given size is 3)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container.lessThanOrEqual</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>The size of "{0}" must be less than or equal to {1}. The given size is {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified size</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given size</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="containskey"><a class="anchor" href="#containskey"></a>7.5.9. <code>containsKey(&#8230;&#8203;)</code></h4>
<div class="paragraph">
<p>Checks if the target value contains the specified key</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
        .constraint(CodeMap::asMap, "codeMap", c -&gt; c.containsKey("b"))
        .build();

ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(null)); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(Map.of("c", "C"))); // Invalid ("codeMap" must contain key b)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map.containsKey</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must contain key {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified key</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="containsvalue"><a class="anchor" href="#containsvalue"></a>7.5.10. <code>containsValue(&#8230;&#8203;)</code></h4>
<div class="paragraph">
<p>Checks if the target value contains the specified value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CodeMap&gt; validator = ValidatorBuilder.&lt;CodeMap&gt; of()
        .constraint(CodeMap::asMap, "codeMap", c -&gt; c.containsValue("B"))
        .build();

ConstraintViolations violations = validator.validate(new CodeMap(Map.of("a", "A", "b", "B"))); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(null)); // Valid
ConstraintViolations violations = validator.validate(new CodeMap(Map.of("c", "C"))); // Invalid ("codeMap" must contain value B)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map.containsValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must contain value {1}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified value</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="object"><a class="anchor" href="#object"></a>7.6. Object</h3>
<div class="paragraph">
<p>Apply the constraints on any <code>Object</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    .constraint(/* Function from TargetClass to Object  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>To avoid ambiguous type inferences, you can use explicit <code>_object</code> instead of <code>constraint</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    ._object(/* Function from TargetClass to Object  */, /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to apply constraints on target class itself (e.g. <a href="#cross-filed-validation">[cross-filed-validation]</a>), you can use <code>constraintOnTarget</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    .constraintOnTarget(/* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is equivalent to bellow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;TargetClass&gt; validator = ValidatorBuilder.&lt;TargetClass&gt; of()
    ._object(Function.identity(), /* Field Name */, /* Constraints */)
    .build();</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="notnull-6"><a class="anchor" href="#notnull-6"></a>7.6.1. <code>notNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is not <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CreatedAt&gt; validator = ValidatorBuilder.&lt;CreatedAt&gt; of()
    .constraint(CreatedAt::asInstant, "createdAt", c -&gt; c.notNull())
    .build();

ConstraintViolations violations = validator.validate(new CreatedAt(Instant.now())); // Valid
ConstraintViolations violations = validator.validate(new CreatedAt(null)); // Invalid ("createdAt" must not be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.notNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must not be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="isnull-6"><a class="anchor" href="#isnull-6"></a>7.6.2. <code>isNull()</code></h4>
<div class="paragraph">
<p>Checks that the target value is <code>null</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;CreatedAt&gt; validator = ValidatorBuilder.&lt;CreatedAt&gt; of()
    .constraint(CreatedAt::asInstant, "createdAt", c -&gt; c.isNull())
    .build();


ConstraintViolations violations = validator.validate(new CreatedAt(null)); // Valid
ConstraintViolations violations = validator.validate(new CreatedAt(Instant.now())); // Invalid ("createdAt" must be null)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object.isNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must be null</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="password-2"><a class="anchor" href="#password-2"></a>7.6.3. <code>password()</code></h4>
<div class="paragraph">
<p>Check if the target value meets the specified custom password policy (e.g. Cross-field check)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">PasswordPolicy&lt;Account&gt; passwordPolicy = PasswordPolicy.of("DoNotIncludeUsername",
        account -&gt; {
            String username = account.getUsername();
            String password = account.getPassword();
            if (username == null || password == null) {
                return true;
            }
            return !password.toUpperCase().contains(username.toUpperCase());
        });
Validator&lt;Account&gt; validator = ValidatorBuilder.&lt;Account&gt; of()
        .constraintOnTarget("password", c -&gt; c.password(policy -&gt; policy
                .required(passwordPolicy)
                .build()))
        .build();

ConstraintViolations violations = validator.validate(new Account("foo", "Bar1234")); // Valid
ConstraintViolations violations = validator.validate(new Account(null, null)); // Valid
ConstraintViolations violations = validator.validate(new Account("foo", "Foo1234")); // Invalid ("password" must meet DoNotIncludeUsername policy)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message Key</th>
<th class="tableblock halign-left valign-top">Default Message Format</th>
<th class="tableblock halign-left valign-top">Args</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password.required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must meet {1} policy</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; the specified policy name</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password.optional</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"{0}" must meet at least {1} policies from {2}</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>{0}</code> &#8230;&#8203; field name</p>
</li>
<li>
<p><code>{1}</code> &#8230;&#8203; minimum requirement</p>
</li>
<li>
<p><code>{2}</code> &#8230;&#8203; the specified policy names</p>
</li>
<li>
<p><code>{3}</code> &#8230;&#8203; the given value</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="annotation-processor"><a class="anchor" href="#annotation-processor"></a>8. Annotation Processor</h2>
<div class="sectionbody">
<div class="paragraph">
<p>YAVI provides Annotation Processor to generates classes which defines meta classes
that implement <code>am.ik.yavi.meta.ConstraintMeta</code> for each target which is annotated with <code>am.ik.yavi.meta.ConstraintTarget</code> or <code>am.ik.yavi.meta.ConstraintArguments</code>.</p>
</div>
<div class="paragraph">
<p>When you have a class as following, run <code>mvn clean compile</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

import am.ik.yavi.meta.ConstraintTarget;

public class UserForm {

    private String name;

    private String email;

    private Integer age;

    @ConstraintTarget
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    @ConstraintTarget
    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    @ConstraintTarget
    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll see <code>target/generated-sources/annotations/com/example/_UserFormMeta.java</code> is automatically generated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>@ConstraintTarget</code> and <code>@ConstraintArguments</code> are compile-time annotations, so they disappear at runtime.
+ This won&#8217;t break YAVI&#8217;s "No annotation!" concept ;)</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="annotating-constrainttarget"><a class="anchor" href="#annotating-constrainttarget"></a>8.1. Annotating <code>@ConstraintTarget</code></h3>
<div class="paragraph">
<p><code>@ConstraintTarget</code> is used to generate meta classes that can be used with <code>ValidatorBuilder#constraint</code>.
+ It can be annotated on methods or constructor arguments.</p>
</div>
<div class="paragraph">
<p><code>Xyz</code> class that is annotated with <code>@ConstraintTarget</code> will generate <code>_XyzMeta</code>.</p>
</div>
<div class="paragraph">
<p><code>Validator</code> can be built as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Validator&lt;UserForm&gt; validator = ValidatorBuilder.&lt;UserForm&gt; of()
    .constraint(_UserFormMeta.NAME, c -&gt; c.notEmpty())
    .constraint(_UserFormMeta.EMAIL, c -&gt; c.notEmpty().email())
    .constraint(_UserFormMeta.AGE, c -&gt; c.greaterThan(0))
    .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>No more string literal is required and it&#8217;s really type-safe.</p>
</div>
<div class="paragraph">
<p>The example above is available for the following 4 ways of generation.</p>
</div>
<div class="sect3">
<h4 id="constrainttarget-on-getters"><a class="anchor" href="#constrainttarget-on-getters"></a>8.1.1. <code>@ConstraintTarget</code> on getters</h4>
<div class="paragraph">
<p>If you like "Java Beans" style, this way would be straightforward.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

import am.ik.yavi.meta.ConstraintTarget;

public class UserForm {

    private String name;

    private String email;

    private Integer age;

    @ConstraintTarget
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    @ConstraintTarget
    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    @ConstraintTarget
    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>will generate</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

// Generated at 2020-02-11T17:37:47.866300+09:00
public class _UserFormMeta {

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt; NAME = new am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "name";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.String&gt; toValue() {
            return com.example.UserForm::getName;
        }
    };

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt; EMAIL = new am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "email";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.String&gt; toValue() {
            return com.example.UserForm::getEmail;
        }
    };

    public static final am.ik.yavi.meta.IntegerConstraintMeta&lt;com.example.UserForm&gt; AGE = new am.ik.yavi.meta.IntegerConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "age";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.Integer&gt; toValue() {
            return com.example.UserForm::getAge;
        }
    };
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="on-constructor-arguments-getters"><a class="anchor" href="#on-constructor-arguments-getters"></a>8.1.2. on constructor arguments + getters</h4>
<div class="paragraph">
<p>If you prefer an immutable class like Value Object, annotate <code>@ConstraintTarget</code> on constructor arguments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

import am.ik.yavi.meta.ConstraintTarget;

public class UserForm {

    private final String name;

    private final String email;

    private final Integer age;

    public UserForm(@ConstraintTarget String name,
                    @ConstraintTarget String email,
                    @ConstraintTarget Integer age) {
        this.name = name;
        this.email = email;
        this.age = age;
    }


    public String getName() {
        return name;
    }

    public String getEmail() {
        return email;
    }

    public Integer getAge() {
        return age;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>will generate</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

// Generated at 2020-02-11T17:59:03.892823+09:00
public class _UserFormMeta {

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt; NAME = new am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "name";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.String&gt; toValue() {
            return com.example.UserForm::getName;
        }
    };

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt; EMAIL = new am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "email";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.String&gt; toValue() {
            return com.example.UserForm::getEmail;
        }
    };

    public static final am.ik.yavi.meta.IntegerConstraintMeta&lt;com.example.UserForm&gt; AGE = new am.ik.yavi.meta.IntegerConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "age";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.Integer&gt; toValue() {
            return com.example.UserForm::getAge;
        }
    };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is as same as the first example.</p>
</div>
</div>
<div class="sect3">
<h4 id="on-constructor-arguments-non-getters"><a class="anchor" href="#on-constructor-arguments-non-getters"></a>8.1.3. on constructor arguments + non-getters</h4>
<div class="paragraph">
<p>You may not like "getter" style for immutable objects.
You can use filed name as method name using <code>getter = false</code>. This will be a great fit for <a href="https://openjdk.java.net/jeps/395">Records</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

import am.ik.yavi.meta.ConstraintTarget;

public class UserForm {

    private final String name;

    private final String email;

    private final Integer age;

    public UserForm(@ConstraintTarget(getter = false) String name,
                    @ConstraintTarget(getter = false) String email,
                    @ConstraintTarget(getter = false) Integer age) {
        this.name = name;
        this.email = email;
        this.age = age;
    }


    public String name() {
        return name;
    }

    public String email() {
        return email;
    }

    public Integer age() {
        return age;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>will generate</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

// Generated at 2020-02-11T18:00:37.868495+09:00
public class _UserFormMeta {

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt; NAME = new am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "name";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.String&gt; toValue() {
            return com.example.UserForm::name;
        }
    };

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt; EMAIL = new am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "email";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.String&gt; toValue() {
            return com.example.UserForm::email;
        }
    };

    public static final am.ik.yavi.meta.IntegerConstraintMeta&lt;com.example.UserForm&gt; AGE = new am.ik.yavi.meta.IntegerConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "age";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.Integer&gt; toValue() {
            return com.example.UserForm::age;
        }
    };
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="on-constructor-arguments-field-access"><a class="anchor" href="#on-constructor-arguments-field-access"></a>8.1.4. on constructor arguments + field access</h4>
<div class="paragraph">
<p>You may prefer accessing fields directly rather than accessors, then use <code>field = true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

import am.ik.yavi.meta.ConstraintTarget;

public class UserForm {

    final String name;

    final String email;

    final Integer age;

    public UserForm(@ConstraintTarget(field = true) String name,
                    @ConstraintTarget(field = true) String email,
                    @ConstraintTarget(field = true) Integer age) {
        this.name = name;
        this.email = email;
        this.age = age;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>will generate</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

// Generated at 2020-02-11T18:02:47.124191+09:00
public class _UserFormMeta {

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt; NAME = new am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "name";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.String&gt; toValue() {
            return x  -&gt; x.name;
        }
    };

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt; EMAIL = new am.ik.yavi.meta.StringConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "email";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.String&gt; toValue() {
            return x  -&gt; x.email;
        }
    };

    public static final am.ik.yavi.meta.IntegerConstraintMeta&lt;com.example.UserForm&gt; AGE = new am.ik.yavi.meta.IntegerConstraintMeta&lt;com.example.UserForm&gt;() {

        @Override
        public String name() {
            return "age";
        }

        @Override
        public java.util.function.Function&lt;com.example.UserForm, java.lang.Integer&gt; toValue() {
            return x  -&gt; x.age;
        }
    };
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="annotating-constraintarguments"><a class="anchor" href="#annotating-constraintarguments"></a>8.2. Annotating <code>@ConstraintArguments</code></h3>
<div class="paragraph">
<p><code>@ConstraintArguments</code> is used to generate meta classes that can be used with <code>ArgumentsValidatorBuilder</code>.
+ It can be annotated on constructors or methods.</p>
</div>
<div class="paragraph">
<p>The constructor of <code>Xyz</code> class that is annotated with <code>@ConstraintTarget</code> will generate <code>_XyzArgumentsMeta</code>.</p>
</div>
<div class="paragraph">
<p><code>doSomething</code> method of <code>Xyz</code> class that is annotated with <code>@ConstraintTarget</code> will generate <code>_XyzDoSomethingArgumentsMeta</code>.</p>
</div>
<div class="sect3">
<h4 id="validating-constructor-arguments"><a class="anchor" href="#validating-constructor-arguments"></a>8.2.1. Validating Constructor Arguments</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

import am.ik.yavi.meta.ConstraintArguments;

public class User {

    private final String name;

    private final String email;

    private final int age;

    @ConstraintArguments
    public User(String name, String email, int age) {
        this.name = name;
        this.email = email;
        this.age = age;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>will generate</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

// Generated at 2020-02-11T18:22:15.164882+09:00
public class _UserArgumentsMeta {

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;am.ik.yavi.arguments.Arguments3&lt;java.lang.String, java.lang.String, java.lang.Integer&gt;&gt; NAME = new am.ik.yavi.meta.StringConstraintMeta&lt;am.ik.yavi.arguments.Arguments3&lt;java.lang.String, java.lang.String, java.lang.Integer&gt;&gt;() {

        @Override
        public String name() {
            return "name";
        }

        @Override
        public java.util.function.Function&lt;am.ik.yavi.arguments.Arguments3&lt;java.lang.String, java.lang.String, java.lang.Integer&gt;, java.lang.String&gt; toValue() {
            return am.ik.yavi.arguments.Arguments1::arg1;
        }
    };

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;am.ik.yavi.arguments.Arguments3&lt;java.lang.String, java.lang.String, java.lang.Integer&gt;&gt; EMAIL = new am.ik.yavi.meta.StringConstraintMeta&lt;am.ik.yavi.arguments.Arguments3&lt;java.lang.String, java.lang.String, java.lang.Integer&gt;&gt;() {

        @Override
        public String name() {
            return "email";
        }

        @Override
        public java.util.function.Function&lt;am.ik.yavi.arguments.Arguments3&lt;java.lang.String, java.lang.String, java.lang.Integer&gt;, java.lang.String&gt; toValue() {
            return am.ik.yavi.arguments.Arguments2::arg2;
        }
    };

    public static final am.ik.yavi.meta.IntegerConstraintMeta&lt;am.ik.yavi.arguments.Arguments3&lt;java.lang.String, java.lang.String, java.lang.Integer&gt;&gt; AGE = new am.ik.yavi.meta.IntegerConstraintMeta&lt;am.ik.yavi.arguments.Arguments3&lt;java.lang.String, java.lang.String, java.lang.Integer&gt;&gt;() {

        @Override
        public String name() {
            return "age";
        }

        @Override
        public java.util.function.Function&lt;am.ik.yavi.arguments.Arguments3&lt;java.lang.String, java.lang.String, java.lang.Integer&gt;, java.lang.Integer&gt; toValue() {
            return am.ik.yavi.arguments.Arguments3::arg3;
        }
    };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ArgumentsNValidator</code> can be built as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Arguments3Validator&lt;String, String, Integer, User&gt; validator = ArgumentsValidatorBuilder
    .of(User::new)
    .builder(b -&gt; b
        .constraint(_UserArgumentsMeta.NAME, c -&gt; c.notEmpty())
        .constraint(_UserArgumentsMeta.EMAIL, c -&gt; c.notEmpty().email())
        .constraint(_UserArgumentsMeta.AGE, c -&gt; c.greaterThan(0))
    )
    .build();</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="validating-method-arguments-2"><a class="anchor" href="#validating-method-arguments-2"></a>8.2.2. Validating Method Arguments</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

import am.ik.yavi.meta.ConstraintArguments;

public class UserService {

    @ConstraintArguments
    public User createUser(String name, String email, int age) {
        return new User(name, email, age);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>will generate</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package com.example;

// Generated at 2020-02-11T18:40:53.554587+09:00
public class _UserServiceCreateUserArgumentsMeta {

    public static final am.ik.yavi.meta.ObjectConstraintMeta&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;, com.example.UserService&gt; USERSERVICE = new am.ik.yavi.meta.ObjectConstraintMeta&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;, com.example.UserService&gt;() {

        @Override
        public String name() {
            return "userService";
        }

        @Override
        public java.util.function.Function&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;, com.example.UserService&gt; toValue() {
            return am.ik.yavi.arguments.Arguments1::arg1;
        }
    };

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;&gt; NAME = new am.ik.yavi.meta.StringConstraintMeta&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;&gt;() {

        @Override
        public String name() {
            return "name";
        }

        @Override
        public java.util.function.Function&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;, java.lang.String&gt; toValue() {
            return am.ik.yavi.arguments.Arguments2::arg2;
        }
    };

    public static final am.ik.yavi.meta.StringConstraintMeta&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;&gt; EMAIL = new am.ik.yavi.meta.StringConstraintMeta&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;&gt;() {

        @Override
        public String name() {
            return "email";
        }

        @Override
        public java.util.function.Function&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;, java.lang.String&gt; toValue() {
            return am.ik.yavi.arguments.Arguments3::arg3;
        }
    };

    public static final am.ik.yavi.meta.IntegerConstraintMeta&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;&gt; AGE = new am.ik.yavi.meta.IntegerConstraintMeta&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;&gt;() {

        @Override
        public String name() {
            return "age";
        }

        @Override
        public java.util.function.Function&lt;am.ik.yavi.arguments.Arguments4&lt;com.example.UserService, java.lang.String, java.lang.String, java.lang.Integer&gt;, java.lang.Integer&gt; toValue() {
            return am.ik.yavi.arguments.Arguments4::arg4;
        }
    };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ArgumentsNValidator</code> can be built as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Arguments4Validator&lt;UserService, String, String, Integer, User&gt; validator = ArgumentsValidatorBuilder
    .of(UserService::createUser)
    .builder(b -&gt; b
        .constraint(_UserServiceCreateUserArgumentsMeta.USERSERVICE, c -&gt; c.notNull())
        .constraint(_UserServiceCreateUserArgumentsMeta.NAME, c -&gt; c.notEmpty())
        .constraint(_UserServiceCreateUserArgumentsMeta.EMAIL, c -&gt; c.notEmpty().email())
        .constraint(_UserServiceCreateUserArgumentsMeta.AGE, c -&gt; c.greaterThan(0))
    )
    .build();</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="integrations"><a class="anchor" href="#integrations"></a>9. Integrations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Although YAVI doesn&#8217;t depend on anything, it has interfaces that magically fit into Framework.</p>
</div>
<div class="sect2">
<h3 id="integration-with-bindingresult-in-spring-mvc"><a class="anchor" href="#integration-with-bindingresult-in-spring-mvc"></a>9.1. Integration with <code>BindingResult</code> in Spring MVC</h3>
<div class="paragraph">
<p><code>ConstraintViolations#apply</code> accepts the Function Interface with the same arguments as Spring Framework&#8217;s <code>BindingResult#rejectValue</code> method and passes the violation messages.</p>
</div>
<div class="paragraph">
<p>To reflect validation results by YAVI in a Controller of Spring MVC, you can write the following code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final Validator&lt;UserForm&gt; validator = ...;

@PostMapping(path = "users")
public String createUser(Model model, UserForm userForm, BindingResult bindingResult) {
    ConstraintViolations violations = validator.validate(userForm);
    if (!violations.isValid()) {
        violations.apply(bindingResult::rejectValue);
        return "userForm";
    }
    // ...
    return "redirect:/";
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you like a functional way, you can also write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final Validator&lt;UserForm&gt; validator = ...;

@PostMapping(path = "users")
public String createUser(Model model, UserForm userForm, BindingResult bindingResult) {
    return validator.applicative()
        .validate(userForm)
        .fold(violations -&gt; {
            ConstraintViolations.of(violations).apply(BindingResult::rejectValue);
            return "userForm";
        }, form -&gt; {
            // ...
            return "redirect:/";
        });
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>List&lt;ContraintViolation&gt;</code> is passed to the function of the first argument of <code>Validated#fold</code> instead of <code>ConstraintViolations</code>. You can convert the <code>List&lt;ContraintViolation&gt;</code> to <code>ConstraintViolations</code> by using the <code>ConstraintViolations#of</code> method.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="converting-constraintviolations-to-the-format-to-serialize-as-a-response-body"><a class="anchor" href="#converting-constraintviolations-to-the-format-to-serialize-as-a-response-body"></a>9.2. Converting <code>ConstraintViolations</code> to the format to serialize as a response body</h3>
<div class="paragraph">
<p><code>ConstraintViolation</code> is not suitable for serializing with a serializer like Jackson. Instead, you can use <code>ConstraintViolation#detail</code> method to convert it to a <code>ViolationDetail</code> object that is easy to serialize.</p>
</div>
<div class="paragraph">
<p>The <code>ConstraintViolations#details</code> method translates all <code>ConstraintViolation</code> s and returns <code>List&lt;ViolationDetail&gt;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final Validator&lt;UserCreateRequest&gt; validator = ...;

@PostMapping(path = "users")
public ResponseEntity&lt;?&gt; createUser(@RequestBody UserCreateRequest request) {
    ConstraintViolations violations = validator.validate(request);
    if (violations.isValid()) {
        User created = userService.create(request.toUser());
        return ResponseEntity.ok(created);
    } else {
        return ResponseEntity.badRequest().body(violations.details());
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you like a functional way, you can also write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final Validator&lt;UserCreateRequest&gt; validator = ...;

@PostMapping(path = "users")
public ResponseEntity&lt;?&gt; createUser(@RequestBody UserCreateRequest request) {
    return validator.applicative()
        .validate(request)
        .map(req -&gt; userService.create(req.toUser()))
        .mapErrors(violations -&gt; ConstraintViolations.of(violations).details())
        // or .mapErrorsF(ConstraintViolation::detail)
        .fold(details -&gt; ResponseEntity.badRequest().body(Map.of("message", "Invalid request body", "details", details)),
            created -&gt; ResponseEntity.ok(created));
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>ViolationDetail</code> works with GraalVM native image out of the box.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="integration-with-spring-webflux-fn"><a class="anchor" href="#integration-with-spring-webflux-fn"></a>9.3. Integration with Spring WebFlux.fn</h3>
<div class="paragraph">
<p>YAVI will be a great fit for <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-fn">Spring WebFlux.fn</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final Validator&lt;UserCreateRequest&gt; validator = ...;

public RouterFunction&lt;ServerResponse&gt; routes() {
    return RouterFunctions.route()
        .POST("/users", request -&gt; request.bodyToMono(UserCreateRequest.class)
            .flatMap(body -&gt; validator.applicative()
                .validate(body)
                .map(req -&gt; userService.create(req.toUser()))
                .mapErrors(violations -&gt; ConstraintViolations.of(violations).details())
                // or .mapErrorsF(ConstraintViolation::detail)
                .fold(details -&gt; ServerResponse.badRequest().bodyValue(Map.of("message", "Invalid request body", "details", details)),
                    created -&gt; ServerResponse.ok().bodyValue(created))))
        .build();
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
YAVI was originally developed as a validator naturally fit with Spring WebFlux.fn.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="integration-with-messagesource-in-spring-framework"><a class="anchor" href="#integration-with-messagesource-in-spring-framework"></a>9.4. Integration with <code>MessageSource</code> in Spring Framework</h3>
<div class="paragraph">
<p><code>am.ik.yavi.message.MessageSourceMessageFormatter</code> accepts the Functional Interface with the same arguments as Spring Framework&#8217;s <code>MessageSource#getMessage</code>.
This allows you to delegate control of the message format of violation messages to Spring Framework.</p>
</div>
<div class="paragraph">
<p><code>MessageSourceMessageFormatter</code> can be used as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@RestController
public class OrderController {
    private final Validator&lt;CartItem&gt; validator;

    public OrderController(MessageSource messageSource) {
        MessageFormatter messageFormatter = new MessageSourceMessageFormatter(messageSource::getMessage);
        this.validator = ValidatorBuilder.&lt;CartItem&gt; of()
            .constraints(...)
            .messageFormatter(messageFormatter)
            .build();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="managing-validatorbuilder-in-an-ioc-container"><a class="anchor" href="#managing-validatorbuilder-in-an-ioc-container"></a>9.5. Managing <code>ValidatorBuilder</code> in an IoC Container</h3>
<div class="paragraph">
<p>If you want to customize <code>ValidatorBuilder</code> and manage it with an IoC Container like Spring Framework, you can use <code>am.ik.yavi.factory.ValidatorFactory</code>.</p>
</div>
<div class="paragraph">
<p>The following is an example of defining a <code>ValidatorFactory</code> in Spring Framework:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Bean
public ValidatorFactory yaviValidatorFactory(MessageSource messageSource) {
    MessageFormatter messageFormatter = new MessageSourceMessageFormatter(messageSource::getMessage);
    return new ValidatorFactory("." /* Message Key Separator */, messageFormatter);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The usage of a Validator would look like following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@RestController
public class OrderController {
    private final Validator&lt;CartItem&gt; validator;

    public OrderController(ValidatorFactory factory) {
        this.validator = factory.validator(builder -&gt; builder.constraint(...));
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="obtaining-a-bivalidator"><a class="anchor" href="#obtaining-a-bivalidator"></a>9.6. Obtaining a <code>BiValidator</code></h3>
<div class="paragraph">
<p><code>am.ik.yavi.core.BiValidator&lt;T, E&gt;</code> is a <code>BiConsumer&lt;T, E&gt;</code>.
<code>T</code> is the type of target object as usual and <code>E</code> is the type of errors object.</p>
</div>
<div class="paragraph">
<p>This class is helpful for libraries or apps to adapt both YAVI and other validation framework that accepts these two arguments like Spring Framework&#8217;s <code>org.springframework.validation.Validator#validate(Object, Errors)</code>.</p>
</div>
<div class="paragraph">
<p><code>BiValidator</code> can be obtained as below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">BiValidator&lt;CartItem, Errors&gt; validator = ValidatorBuilder.&lt;CartItem&gt; of()
    .constraint(...)
    .build(Errors::rejectValue);</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is a factory for <code>BiValidator</code> as well</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Bean
public BiValidatorFactory&lt;Errors&gt; biValidatorFactory() {
    return new BiValidatorFactory&lt;&gt;(Errors::rejectValues);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or, if you want to customize the builder</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Bean
public BiValidatorFactory&lt;Errors&gt; biValidatorFactory(MessageSource messageSource) {
    MessageFormatter messageFormatter = new MessageSourceMessageFormatter(messageSource::getMessage);
    return new BiValidatorFactory&lt;&gt;("." /* Message Key Separator */, messageFormatter, Errors::rejectValues);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The usage of a <code>BiValidator</code> would look like following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@RestController
public class OrderController {
    private final BiValidator&lt;CartItem, Errors&gt; validator;

    public OrderController(BiValidatorFactory&lt;Errors&gt; factory) {
        this.validator = factory.validator(builder -&gt; builder.constraint(...));
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.8.1<br>
Last updated 2021-06-24 04:31:26 UTC
</div>
</div>
<link rel="stylesheet" href="js/highlight/styles/github.min.css">
<script src="js/highlight/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
<script type="text/javascript" src="js/tocbot/tocbot.min.js"></script>
<script type="text/javascript" src="js/toc.js"></script>
</body>
</html>